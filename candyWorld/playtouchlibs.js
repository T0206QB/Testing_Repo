!function(){var n="PLib",t="4.0.0",e=void 0===window.eventToFire;if(e||(i=!1,"undefined"!=typeof playtouch&&void 0!==playtouch.versionChecker?i=playtouch.versionChecker:void 0!==y&&(i=y),!1!==i&&(e=i.isVersionMin(t,playtouch.eventToFire.version,!1))),e){var i=window.eventToFire||{};if(i.events=window.eventToFire&&window.eventToFire.events?window.eventToFire.events:{},i.version=t,i.registerEvent=function(t,e,i){return"string"==typeof t&&("function"==typeof e||"string"==typeof e)&&(void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push({func:e,staticArgs:i}),!0)},"function"!=typeof s)for(var a=[],s=function(){var t,e,i,r;return r="object"==typeof window.crypto&&"function"==typeof window.crypto.getRandomValues?(t=(r=window.crypto.getRandomValues(new Uint32Array(4)))[0],e=r[1],i=r[2],r[3]):(t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,4294967296*Math.random()>>>0),a[255&t]+a[t>>8&255]+a[t>>16&255]+a[t>>24&255]+"-"+a[255&e]+a[e>>8&255]+"-"+a[e>>16&15|64]+a[e>>24&255]+"-"+a[63&i|128]+a[i>>8&255]+"-"+a[i>>16&255]+a[i>>24&255]+a[255&r]+a[r>>8&255]+a[r>>16&255]+a[r>>24&255]},r=0;r<256;r++)a[r]=(r<16?"0":"")+r.toString(16);i.fireEvent=function(i){if("string"!=typeof i)return!1;var t=Object.keys(this.events).filter(function(t){t=t.replace(/\./g,"\\.");return-1!==t.indexOf("*")&&(t=t.split("*")[0]+".*"),new RegExp("^"+t+"$").test(i)}).sort(function(t,e){return e===i?1:t===i?-1:e.replace("*","").length-t.replace("*","").length}),e=s();if(0===t.length)return!1;for(var r=0;r<t.length;r++)for(var n=0;n<this.events[t[r]].length;n++){var a=this.events[t[r]][n].func;if("string"==typeof a){if("function"!=typeof window[a])continue;a=window[a]}var o=[].slice.call(arguments,1);o.push(this.events[t[r]][n].staticArgs),a.apply({eventName:i,eventUID:e,eventHandler:t[r],eventToFire:this},o)}return!0},i.getAllEvent=function(){return this.events},window.eventToFire=i,window.registerEvent=function(t,e,i){window.eventToFire.registerEvent(t,e,i)},window.fireEvent=function(t,e){window.eventToFire.fireEvent(t,e)}}void 0===window.eventToFire.c2Caller&&(window.eventToFire.c2Caller=function(t,e,i){this.registerEvent(t,function(t){c2_callFunction(t,[].slice.call(arguments,1),n+":eventToFire")}.bind(this,e),i)});function o(){this.availableEngine={anonymous:{name:"anonymous",customInit:function(){},getAutoSeed:function(){return parseInt(233280*Math.random())},checkSeed:function(t){return"string"==typeof t&&(t=t.split("").reduce(function(t,e,i){return t+e.charCodeAt(0)*10**(3*i)},0)%233280),isNaN(t)?this.getAutoSeed():233280<(t=Math.round(parseInt(t)))?t%233280:t},getNextValue:function(){return(9301*this.value+49297)%233280},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.value=this.getNextValue(),t--,this.step++},random:function(t,e){return(e=e||0)+this.value/233280*((t=t||1)-e)}},alea:{name:"alea",customInit:function(){this.m=new function(){var n=4022871197;return function(t){for(var e,i=0,r=.02519603282416938;i<t.length;i++)e=t.charCodeAt(i),n=4294967296*((e=(r*(n+=e)-(n*r|0))*(r*n|0))-(0|e))+(0|e);return 2.3283064365386963e-10*(0|n)}},this.a=this.m(" "),this.b=this.m(" "),this.c=this.m(" "),this.y=0,this.a-=this.m(this.initialValue),this.b-=this.m(this.initialValue),this.c-=this.m(this.initialValue),this.a<0&&this.a++,this.b<0&&this.b++,this.c<0&&this.c++},getAutoSeed:function(){return+new Date+Math.random()},checkSeed:function(t){return t+""},getNextValue:function(){var t=2.3283064365386963e-10*this.value+2091639*this.a;this.b,this.c;return t-(0|t)},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.y=2.3283064365386963e-10*this.value+2091639*this.a,this.a=this.b,this.b=this.c,this.value=0|this.y,this.c=this.y-this.value,t--,this.step++},random:function(t,e){return(e=e||0)+this.c*((t=t||1)-e)}}}}function c(){}function u(){}function h(){}function l(){this.capableToDisplayLeaderboard=!1}function p(){}function d(){}var f,e={version:"1.0.0",tag:"MM",getVersion:function(t,e){return void 0!==playtouch[t]&&void 0!==playtouch[t].version?playtouch[t].version:void 0===e?"0.0.0":e},register:function(t,e){var i=!0;return"string"==typeof t&&void 0!==e&&void 0!==e.version&&((i=this.getVersion(t,!1)?void 0===playtouch.versionChecker||playtouch.versionChecker.versionStrToNum(this.getVersion(t))<playtouch.versionChecker.versionStrToNum(e.version):i)&&(playtouch[t]=e),i)}},y=("object"!=typeof window.playtouch&&(window.playtouch={PLIBS_VERSION:"2.4.0"}),void 0!==window.playtouch.modulesManager?window.playtouch.modulesManager.register("modulesManager",e):window.playtouch.modulesManager=e,{version:"1.1.0",versionStrToNum:function(t){if(void 0===t)return 0;"string"!=typeof t&&(t+="");var e=t.split(".");if(3<e.length)return 0;for(;e.length<3;)e.push(0);return 1e6*e[0]+1e3*e[1]+ +e[2]},isVersionMin:function(t,e,i){"boolean"!=typeof i&&(i=!0);t=this.versionStrToNum(t);switch(typeof e){case"undefined":e=1;break;case"string":e=this.versionStrToNum(e);break;case"number":break;default:return!1}return e<t||i&&t==e}}),v={version:"1.1.0",tag:"TP",toLower:function(t){return(t+"").toLocaleLowerCase()},toUpper:function(t){return(t+"").toLocaleUpperCase()},UCFirst:function(t){return(t+"").charAt(0).toLocaleUpperCase()+(t+"").slice(1)}},g=(v.Capitalize=v.UCFirst,v.UCWords=function(t){return(t+"").replace(/^(.)|\s+(.)/g,function(t){return(t+"").toLocaleUpperCase()})},v.localeNumber=function(t){return(new Intl.NumberFormat).format(parseInt(t))},v.parse=function(t,e,i){if("string"!=typeof t&&(t=""),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return"object"!=typeof e&&(e={}),void 0===i&&(i=new RegExp(/{([a-zA-Z0-9\|]+)}/,"g")),t.replace(i,function(t,e){for(var i=e.split("|"),r="string"==typeof this[r=i.pop()]||"number"==typeof this[r]?this[r]:"string"==typeof this.__defaultValue||"number"==typeof this.__defaultValue?this.__defaultValue:"";i.length;){var n=i.pop();"function"==typeof v[n]?r=v[n](r):"function"==typeof window[n]&&(r=window[n](r))}return r}.bind(e))},{}),m=(g.version="1.1.0",g.IntToBase=function(t,e){var i=(t=parseInt(t))<0;return t=Math.abs(t),9<e&&t<10?parseInt(t.toString(e))*(i?-1:1):(i?"-":"")+t.toString(e)},g.baseToInt=function(t,e){var i;return isNaN(t)?(i=void 0!==t[0]&&"-"===t[0],parseInt(t.slice(i?1:0),e)*(i?-1:1)):parseInt(t,e)},o.prototype.checkEngine=function(t){return"string"!=typeof t||"object"!=typeof this.availableEngine[t]?void 0!==m&&void 0!==m.DEFAULT_PRNG_ENGINE?m.DEFAULT_PRNG_ENGINE:"anonymous":t},o.prototype.init=function(t,e,i){return this.engine=this.checkEngine(i),this.initialValue=this.availableEngine[this.engine].checkSeed.apply(this,arguments),this.value="number"==typeof this.initialValue?this.initialValue:1,this.step=0,this.label="string"==typeof e?e:"",this.availableEngine[this.engine].customInit.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":init"),window.eventToFire.fireEvent("c2:seed:init",this),this},o.prototype.getAutoSeed=function(){return this.availableEngine[this.engine].getAutoSeed.apply(this,arguments)},o.prototype.grow=function(t){return"number"==typeof t&&t%1==0||(t=1),this.availableEngine[this.engine].grow.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":grow",t),window.eventToFire.fireEvent("c2:seed:grow",this,t),this},o.prototype.getNextValue=function(){return this.availableEngine[this.engine].getNextValue.apply(this,arguments)},o.prototype.random=function(t,e,i){(i="boolean"!=typeof i?!0:i)&&this.grow();var r=this.availableEngine[this.engine].random.apply(this,arguments);return""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":random",r,t,e),window.eventToFire.fireEvent("c2:seed:random",this,r,t,e),r},{}),E=(m.DEFAULT_SEED_NAME="_defaultSeed",m.DEFAULT_PRNG_ENGINE="anonymous",m.version="1.2.0",m.seeds={},m.plant=function(t,e,i){e=(new o).init(e,t,i);return"string"==typeof t&&(this.seeds[t]=e,window.eventToFire.fireEvent("c2:seedsField:plant",t),window.eventToFire.fireEvent("c2:seedsField:plant_"+t)),e},m.uproot=function(t){return"string"==typeof t&&t!==this.DEFAULT_SEED_NAME&&void 0!==this.seeds[t]?(delete this.seeds[t],window.eventToFire.fireEvent("c2:seedsField:uproot",t),window.eventToFire.fireEvent("c2:seedsField:uproot_"+t),1):0},m.unplant=m.uproot,m.getPlantedSeeds=function(t){var e=Object.keys(this.seeds);switch((t="string"!=typeof t?"array":t).toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},m.getAvailableEngines=function(t){var e=Object.keys((new o).availableEngine);switch((t="string"!=typeof t?"array":t).toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},m.getSeedStep=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].step},m.getSeedInitialValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].initialValue},m.getSeedCurrentValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].value},m.getSeedNextValue=function(t,e){return void 0===e&&(e=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].getNextValue()},m.getPrediction=function(t,e,i,r){return void 0===t||void 0===this.seeds[t]?void 0!==r&&r:(new o).init(this.seeds[t].initialValue,void 0,this.seeds[t].engine).grow(this.seeds[t].step).random(e,i,r)},m.random=function(t,e,i,r,n){return void 0===r&&(r=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?r:this.seeds[t].random(e,i,n)},m.getSeedRandomAt=function(t,e,i,r,n,a){return void 0===a&&(a=!1),"number"==typeof i&&i%1==0||(i=0),(new o).init(t,void 0,e).grow(i).random(r,n)},m.plant(m.DEFAULT_SEED_NAME,void 0,m.DEFAULT_PRNG_ENGINE),c.prototype.version="1.6.0",c.prototype.tag="W4F",c.prototype.array=[],c.prototype.arrayJs=[],c.prototype.arrayEndTick=[],c.prototype.id=0,c.prototype.init=function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this.C2_RUNTIME.tick2Me(this),this},c.prototype.update=function(t,e){for(var i=0;i<e.length;i++)e[i].active&&(e[i].time-=t);this.checkArrayEndOfTime(e)},c.prototype.updateAll=function(t){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs),this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},c.prototype.tick=function(){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs)},c.prototype.tick2=function(){this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},c.prototype.toString=function(){return"arrayWaitForFunction"},c.prototype.waitForFunction=function(t,e,i,r){return i=Number(i)!==Number(i)||" "===i?i:Number(i),this.pushToArray(this.array,t,e,i,r)},c.prototype.waitForFunctionEndTick=function(t,e,i,r){return i=Number(i)!==Number(i)||" "===i?i:Number(i),this.pushToArray(this.arrayEndTick,t,e,i,r)},c.prototype.waitForFunctionJS=function(t,e,i,r){return this.pushToArray(this.arrayJs,t,e,i,r)},c.prototype.pushToArray=function(t,e,i,r,n){return t.push({active:!0,time:e,callback:i,param:r,id:this.id,persistentLevel:void 0===n?0:n}),this.id++},c.prototype.checkArrayEndOfTime=function(t){for(var e,i=0;i<t.length;i++)if(t[i].time<=0){e=t.splice(i,1)[0];break}void 0!==e&&("function"==typeof e.callback?e.callback(e.param):(c2_callFunction(e.callback,[e.param],n+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:arrayWaitForFunction:trigger",e.id,e.callback,e.param)),this.checkArrayEndOfTime(t))},c.prototype.clearArrayWait=function(e){[this.array,this.arrayEndTick,this.arrayJs].forEach(t=>this.clearArrayWaitByArray(t,e))},c.prototype.clearArrayWaitByArray=function(t,e){for(var e=void 0===e?0:e,i=t.length-1;0<=i;i--)t[i].persistentLevel<=e&&t.splice(i,1)[0]},c.prototype.stopWaitById=function(e){[this.array,this.arrayEndTick,this.arrayJs].forEach(t=>this.stopWaitByIdByArray(t,e))},c.prototype.stopWaitByIdByArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e){t.splice(i,1);break}},c.prototype.getTimeUntilEndOf=function(t,e){for(var i=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<i.length;r++){var n=this.getTimeUntilEndOfByArray(i[r],t,e);if(n!==e)return n}return e},c.prototype.getTimeUntilEndOfByArray=function(t,e,i){void 0===i&&(i=-1);for(var r=0;r<t.length;r++)if(t[r].id==e)return t[r].time;return i},c.prototype.addTimeById=function(t,e){for(var i=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<i.length;r++){var n=this.addTimeByIdByArray(i[r],t,e);if(-1!==n)return n}return-1},c.prototype.addTimeByIdByArray=function(t,e,i){for(var r=0;r<t.length;r++)if(t[r].id==e)return t[r].time+=i,t[r].time;return-1},c.prototype.setTimeById=function(t,e){for(var i=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<i.length;r++){var n=this.setTimeByIdByArray(i[r],t,e);if(-1!==n)return n}return-1},c.prototype.setTimeByIdByArray=function(t,e,i){for(var r=0;r<t.length;r++)if(t[r].id==e)return t[r].time=i,t[r].time;return-1},c.prototype.startWaitNowById=function(e){[this.array,this.arrayEndTick,this.arrayJs].forEach(t=>this.startWaitNowByIdByArray(t,e))},c.prototype.startWaitNowByIdByArray=function(t,e){for(var i,r=0;r<t.length;r++)if(t[r].id==e){i=t.splice(r,1)[0];break}void 0!==i&&c2_callFunction(i.callback,[i.param],n+":"+this.__proto__.tag)},c.prototype.pauseById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<e.length;i++){var r=this.pauseByIdByArray(e[i],t);if(!1!==r)return r}return!1},c.prototype.pauseByIdByArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return!(t[i].active=!1);return!1},c.prototype.resumeById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<e.length;i++){var r=this.resumeByIdByArray(e[i],t);if(!1!==r)return r}return!1},c.prototype.resumeByIdByArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i].active=!0;return!1},c.prototype.isPausedById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<e.length;i++){var r=this.isPausedByIdByArray(e[i],t);if(-1!==r)return r}return!1},c.prototype.isPausedByIdByArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return!t[i].active;return-1},c.prototype.pauseAll=function(){return[this.array,this.arrayEndTick,this.arrayJs].forEach(t=>this.pauseAllByArray(t)),!1},c.prototype.pauseAllByArray=function(t){for(var e=0;e<t.length;e++)t[e].active=!1},c.prototype.resumeAll=function(){return[this.array,this.arrayEndTick,this.arrayJs].forEach(t=>this.resumeAllByArray(t)),!0},c.prototype.resumeAllByArray=function(t){for(var e=0;e<t.length;e++)t[e].active=!0},u.prototype.version="1.2.0",u.prototype.tag="NFSM",u.prototype.currentState="default",u.prototype.nextState="",u.prototype.setCurrentState=function(t){this.currentState=""+t,window.eventToFire.fireEvent("c2:nfsm:setCurrentState",t)},u.prototype.setNext=function(t){this.nextState=""+t,window.eventToFire.fireEvent("c2:nfsm:setNext",t)},u.prototype.next=function(t){if(null==t||""==t){if(null==this.nextState||""==this.nextState)return void console.error("no next state","next State is required")}else this.setNext(t);t=this.nextState;var e,i=c2_callFunction("beforeExit_"+this.currentState,[this.currentState,t,{current:this.currentState,nextState:t}],n+":"+this.__proto__.tag),r=c2_callFunction("beforeEnter_"+t,[this.currentState,t,{current:this.currentState,nextState:t,beforeExitResult:i}],n+":"+this.__proto__.tag);window.eventToFire.fireEvent("c2:nfsm:nextRequest",{current:this.currentState,beforeExit:i,beforeEnter:r}),0==i&&0==r?(c2_callFunction("onExit_"+this.currentState,[this.currentState,t,{current:this.currentState,next:this.nextState}],n+":"+this.__proto__.tag),e=this.currentState,this.currentState=t,this.nextState="",window.eventToFire.fireEvent("c2:nfsm:nextSucceed",{previous:this.previousState,current:this.currentState}),c2_callFunction("onEnter_"+this.currentState,[this.currentState,e,{current:this.currentState,previous:e}],n+":"+this.__proto__.tag)):(window.eventToFire.fireEvent("c2:nfsm:nextFailed",{current:this.currentState,rejected:t,next:this.nextState}),c2_callFunction("onFailExit_"+this.currentState,[this.currentState,t,i,r,{current:this.currentState,nextState:t,beforeExitActualState:i,beforeEnterNextState:r}],n+":"+this.__proto__.tag),c2_callFunction("onFailEnter_"+t,[this.currentState,t,i,r,{current:this.currentState,nextState:t,beforeExitActualState:i,beforeEnterNextState:r}],n+":"+this.__proto__.tag)),window.eventToFire.fireEvent("c2:nfsm:next",t)},u.prototype.getCurrentStep=function(){return this.currentState},u.prototype.getNextStep=function(){return this.nextState},h.prototype.saveKey="timeNotifier",h.prototype.version="1.1.0",h.prototype.tag="TN",h.prototype.state={ACTIVE:"active",PENDING:"pending",UNACTIVE:"unactive"},h.prototype.arrayNotif={},h.prototype.init=function(){this.load(),this.checkNotif()},h.prototype.getCompressedStr=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]={},0!==t[e].count&&(i[e].c=t[e].count),i[e].s=g.IntToBase(t[e].timeStart,36),-1<t[e].lastAck&&(i[e].a=g.IntToBase(Math.max(0,t[e].timeStart-t[e].lastAck),36)),86400!==t[e].time&&(i[e].t=g.IntToBase(t[e].time,36)),t[e].timeEnd-1e3*t[e].time!==t[e].timeStart&&(i[e].d=g.IntToBase(Math.max(0,t[e].timeEnd-t[e].timeStart),36)),""!==t[e].message&&(i[e].m=t[e].message),t[e].state!==this.state.ACTIVE)&&(i[e].e=t[e].state===this.state.UNACTIVE?0:1);return JSON.stringify(i)},h.prototype.getUnCompressedObj=function(t){var e,i={};if("object"==typeof t)r=t;else try{var r=JSON.parse(t)}catch(t){return i}for(e in r)r.hasOwnProperty(e)&&(void 0!==r[e].name?i[e]=Object.assign({},r[e]):(i[e]={name:e},i[e].time=void 0===r[e].t?86400:g.baseToInt(r[e].t,36),i[e].state=void 0===r[e].e?this.state.ACTIVE:0==r[e].e?this.state.UNACTIVE:this.state.PENDING,i[e].message=void 0===r[e].m?"":r[e].m,i[e].timeStart=g.baseToInt(r[e].s,36),i[e].lastAck=void 0===r[e].a?-1:i[e].timeStart-g.baseToInt(r[e].a,36),i[e].timeEnd=void 0===r[e].d?i[e].timeStart+1e3*i[e].time:i[e].timeStart+g.baseToInt(r[e].d,36),i[e].count=void 0===r[e].c?0:r[e].c));return i},h.prototype.load=function(){this.arrayNotif=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],n+":"+this.__proto__.tag)),window.eventToFire.fireEvent("c2:timeNotifier:load")},h.prototype.save=function(){var t,e=0;for(t in this.arrayNotif){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayNotif),""],n+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:timeNotifier:save"))},h.prototype.set=function(t,e,i,r,n,a){void 0===this.arrayNotif[t]&&(this.arrayNotif[t]={count:0,lastAck:-1}),this.arrayNotif[t].state=this.state.ACTIVE,this.arrayNotif[t].name=t,this.arrayNotif[t].time=e,this.arrayNotif[t].message=i,this.arrayNotif[t].timeStart=Date.now(),this.arrayNotif[t].timeEnd=Date.now()+1e3*e,this.save(),r&&window.eventToFire.fireEvent("c2:timeNotifier:onSetNotification",this.arrayNotif[t],n,a),window.eventToFire.fireEvent("c2:timeNotifier:set",t,e,i,r,n,a)},h.prototype.ack=function(t){void 0!==this.arrayNotif[t]&&this.arrayNotif[t].state==this.state.PENDING&&(this.arrayNotif[t].count++,this.arrayNotif[t].state=this.state.UNACTIVE,this.arrayNotif[t].lastAck=Date.now(),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:ack",t))},h.prototype.cancel=function(t){return void 0!==this.arrayNotif[t]&&(this.arrayNotif[t].state=this.state.UNACTIVE,this.save(),window.eventToFire.fireEvent("c2:timeNotifier:cancel",t),!0)},h.prototype.get=function(t){return void 0===this.arrayNotif[t]?0:JSON.stringify(this.arrayNotif[t])},h.prototype.getValue=function(t,e,i){return void 0===i&&(i=-1),void 0===this.arrayNotif[t]||void 0===e||void 0===this.arrayNotif[t][e]?i:this.arrayNotif[t][e]},h.prototype.getAll=function(){return JSON.stringify(this.arrayNotif)},h.prototype.exist=function(t){return void 0!==this.arrayNotif[t]},h.prototype.checkNotifByName=function(t){void 0===this.arrayNotif[t]||this.arrayNotif[t].state==this.state.UNACTIVE||Date.now()<this.arrayNotif[t].timeEnd||(this.arrayNotif[t].state=this.state.PENDING,c2_callFunction("timeNotifier_onNotification",[t,this.arrayNotif[t].eventMessage,JSON.stringify(this.arrayNotif[t])],n+":"+this.__proto__.tag),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:onNotification",this.arrayNotif[t]),window.eventToFire.fireEvent("c2:timeNotifier:"+t,this.arrayNotif[t]))},h.prototype.checkNotif=function(){for(var t in this.arrayNotif)this.checkNotifByName(t)},h.prototype.getSecondBySpecificTime=function(t,e,i){var r=new Date;return r.setHours(t,e,i),r.getTime()-Date.now()<0&&r.setHours(t+24),r.getTime()},h.prototype.toHHMMSS=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),r=Math.floor((e-3600*i)/60),t=e-3600*i-60*r;return(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r)+":"+(t=t<10?"0"+t:t)},h.prototype.getState=function(t){return this.state[t]},l.prototype.version="1.1.1",l.prototype.tag="LB",l.prototype.init=function(){window.eventToFire.registerEvent("leaderboard:onSubmitScoreSucceeded",function(t){c2_callFunction("leaderboard_onSubmitScoreSucceeded",[],n+":"+this.__proto__.tag)}),window.eventToFire.registerEvent("leaderboard:onSubmitScoreFailed",function(t){c2_callFunction("leaderboard_onSubmitScoreFailed",[],n+":"+this.__proto__.tag)});var e=this;window.eventToFire.registerEvent("leaderboard:ICanDisplayLeaderboard",function(t){e.capableToDisplayLeaderboard=t="boolean"!=typeof t?!0:t}),window.eventToFire.fireEvent("c2:leaderboard:init")},l.prototype.canDisplayLeaderboard=function(){return this.capableToDisplayLeaderboard?1:0},l.prototype.submitScore=function(t,e){return e=parseInt(e),"string"!=typeof t||"number"!=typeof e||isNaN(e)?0:(window.eventToFire.fireEvent("c2:leaderboard:submitScore",t,e),1)},l.prototype.showLeaderboard=function(t,e){return"boolean"!=typeof(e="number"==typeof e?0!=e:e)&&(e=!0),window.eventToFire.fireEvent("c2:leaderboard:showLeaderboard",t,e),1},l.prototype.showLeaderboards=function(){return window.eventToFire.fireEvent("c2:leaderboard:showLeaderboards"),1},p.prototype.saveKey="achievement",p.prototype.version="1.2.0",p.prototype.tag="AC",p.prototype.state={HIDDEN:"HIDDEN",REVEALED:"REVEALED",UNLOCKED:"UNLOCKED"},p.prototype.type={STANDARD:"STANDARD",INCREMENTAL:"INCREMENTAL"},p.prototype.arrayAchievement={},p.prototype.init=function(){this.load();function t(t,e){c2_callFunction("achievement_onNotification",[t.achievement_code,e,t.currentStep,t.achievement_steps,JSON.stringify(t),t.previousStep],n+":"+this.__proto__.tag)}window.eventToFire.registerEvent("c2:achievement:unlock",t),window.eventToFire.registerEvent("c2:achievement:increment",t)},p.prototype.getCompressedStr=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]={},0<t[e].currentStep&&t[e].achievement_state!==this.state.UNLOCKED&&(i[e].s=g.IntToBase(t[e].currentStep,36)),t[e].seen||(i[e].e=0),t[e].achievement_type===this.type.INCREMENTAL&&(i[e].m=g.IntToBase(t[e].achievement_steps,36)),t[e].achievement_state!==this.state.REVEALED&&(i[e].a=t[e].achievement_state===this.state.HIDDEN?0:1),"{}"===JSON.stringify(i[e])||void 0===i[e].s&&void 0===i[e].e&&void 0===i[e].a&&void 0!==i[e].m)&&delete i[e];return JSON.stringify(i)},p.prototype.getUnCompressedObj=function(t){var e,i={};if("object"==typeof t)r=t;else try{var r=JSON.parse(t)}catch(t){return i}for(e in r)r.hasOwnProperty(e)&&(void 0!==r[e].achievement_code?i[e]=Object.assign({},r[e]):(i[e]={achievement_code:e},i[e].seen=void 0===r[e].e,i[e].achievement_type=void 0===r[e].m?this.type.STANDARD:this.type.INCREMENTAL,i[e].achievement_steps=void 0===r[e].m?1:g.baseToInt(r[e].m,36),i[e].achievement_state=void 0===r[e].a?this.state.REVEALED:0<r[e].a?this.state.UNLOCKED:this.state.HIDDEN,i[e].currentStep=void 0!==r[e].s?g.baseToInt(r[e].s,36):i[e].achievement_state===this.state.UNLOCKED?i[e].achievement_steps:0));return i},p.prototype.load=function(){this.arrayAchievement=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],n+":"+this.__proto__.tag))},p.prototype.save=function(){var t,e=0;for(t in this.arrayAchievement){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayAchievement),""],n+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:achievement:save"))},p.prototype.show=function(){window.eventToFire.fireEvent("c2:achievement:show")},p.prototype.register=function(t,e,i){if(void 0!==this.arrayAchievement[t])return window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t]);"string"==typeof(i=i||{})&&(i=JSON.parse(i)),this.arrayAchievement[t]=(new E).create(t,e,i.achievement_state||this.state.REVEALED,i.achievement_type||(1==e?this.type.STANDARD:this.type.INCREMENTAL)),this.save(),window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t])},p.prototype.unlock=function(t){!this.arrayAchievement[t]||(t=this.arrayAchievement[t]).achievement_type!=this.type.STANDARD||t.currentStep>=t.achievement_steps||(t.previousStep=parseInt(t.currentStep),t.currentStep=t.achievement_steps,t.seen=!1,t.achievement_state=this.state.UNLOCKED,this.save(),window.eventToFire.fireEvent("c2:achievement:unlock",t,1))},p.prototype.increment=function(t,e){!this.arrayAchievement[t]||(t=this.arrayAchievement[t]).achievement_type!=this.type.INCREMENTAL||t.currentStep>=t.achievement_steps||(t.previousStep=parseInt(t.currentStep),t.currentStep+=e,t.currentStep=Math.min(t.currentStep,t.achievement_steps),t.currentStep==t.achievement_steps&&(t.seen=!1,t.achievement_state=this.state.UNLOCKED),this.save(),window.eventToFire.fireEvent("c2:achievement:increment",t,e))},p.prototype.get=function(t,e){return void 0!==t&&void 0!==e?void 0===this.arrayAchievement[t]||void 0===this.arrayAchievement[t][e]?-1:this.arrayAchievement[t][e]:void 0!==t?void 0===this.arrayAchievement[t]?-1:JSON.stringify(this.arrayAchievement[t]):JSON.stringify(this.arrayAchievement)},p.prototype.getUnSeen=function(){var t,e={};for(t in this.arrayAchievement)this.arrayAchievement[t].seen||(e[t]=this.arrayAchievement[t]);return JSON.stringify(e)},p.prototype.getUnSeenCount=function(){var t,e=0;for(t in this.arrayAchievement)this.arrayAchievement[t].seen||e++;return e},p.prototype.markAsSeenSpecific=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].seen=!0,this.save(),window.eventToFire.fireEvent("c2:achievement:markAsSeen",this.arrayAchievement[t]))},p.prototype.markAsSeen=function(t){for(var e in this.arrayAchievement)this.markAsSeenSpecific(e)},p.prototype.reveal=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].achievement_state=this.state.REVEALED,this.save(),window.eventToFire.fireEvent("c2:achievement:reveal",this.arrayAchievement[t]))},function(){}),t=(E.prototype.create=function(t,e,i,r){return this.currentStep=0,this.seen=!0,this.achievement_code=t,this.achievement_type=r,this.achievement_steps=e,this.achievement_state=i,this},{}),i=(t.version="1.0.0",t.tag="GN",t.date=function(){return new Date},t.regexp=function(t,e){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e)},{}),e=(i.version="1.0.0",i.tag="RX",i.test=function(t,e,i){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e).test(i)?1:0},{}),b=(e.version="1.0.0",e.tag="EZ",e.X_FUNCTIONS={none:function(t){return 1},linear:function(t){return t},easeInLinear:function(t){return t},easeOutLinear:function(t){return t},easeInOutLinear:function(t){return t},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-Math.pow(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-Math.pow(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-Math.pow(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},easeOutCirc:function(t){return sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInBack:function(t){return 2.70158*t*t*t-1.70158*t*t},easeOutBack:function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)},easeInOutBack:function(t){var e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((1+e)*(2*t-2)+e)+2)/2},easeInElastic:function(t){var e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)},easeOutElastic:function(t){var e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeInOutElastic:function(t){var e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1},easeInBounce:function(t){var e,i;return 1-(e=7.5625,(t=1-t)<1/(i=2.75)?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375)},easeOutBounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:function(t){function e(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}return t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2}},e.TBCD_FUNCTIONS={none:function(t,e,i,r){return e+i},linear:function(t,e,i,r){return i*(t/=r)+e},easeInQuad:function(t,e,i,r){return i*(t/=r)*t+e},easeOutQuad:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,r){return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,i,r){return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,r){return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,i,r){return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,r){return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,i,r){return 0==t?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,i,r){return t==r?e+i:i*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,i,r){return 0==t?e:t==r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;return 0==t?e:1==(t/=r)?e+i:(a=a||.3*r,n=o<Math.abs(i)?(o=i,a/4):a/(2*Math.PI)*Math.asin(i/o),-(o*Math.pow(2,10*--t)*Math.sin((t*r-n)*(2*Math.PI)/a))+e)},easeOutElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;return 0==t?e:1==(t/=r)?e+i:(a=a||.3*r,n=o<Math.abs(i)?(o=i,a/4):a/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin((t*r-n)*(2*Math.PI)/a)+i+e)},easeInOutElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;return 0==t?e:2==(t/=r/2)?e+i:(a=a||r*(.3*1.5),n=o<Math.abs(i)?(o=i,a/4):a/(2*Math.PI)*Math.asin(i/o),t<1?o*Math.pow(2,10*--t)*Math.sin((t*r-n)*(2*Math.PI)/a)*-.5+e:o*Math.pow(2,-10*--t)*Math.sin((t*r-n)*(2*Math.PI)/a)*.5+i+e)},easeInBack:function(t,e,i,r,n){return i*(t/=r)*t*(((n=null==n?1.70158:n)+1)*t-n)+e},easeOutBack:function(t,e,i,r,n){return i*((t=t/r-1)*t*(((n=null==n?1.70158:n)+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,r,n){return null==n&&(n=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:function(t,e,i,r){return i-this.easeOutBounce(r-t,0,i,r)+e},easeOutBounce:function(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,r){return t<r/2?.5*this.easeInBounce(2*t,0,i,r)+e:.5*this.easeOutBounce(2*t-r,0,i,r)+.5*i+e}},{}),w=(b.version="2.0.0",b.tag="TV",b.trackedVariables={},b.init=function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this},b.toString=function(){return"tweeningVariables"},b.registerTracker=function(t,e,i,r,n,a,o,s){if("number"!=typeof r&&(r=1),"number"!=typeof a&&(a=0),"number"!=typeof o&&(o=1),n=parseFloat(n),void 0===s&&(s="{currentTrackerValue}"),"string"!=typeof t||"number"!=typeof e||void 0===this.C2_RUNTIME.objectsByUid[e]||"function"!=typeof this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText)return!1;var c,u,h=-1,l="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}};for(c in this.C2_RUNTIME.all_global_vars)this.C2_RUNTIME.all_global_vars[c].name===t&&(h=c);if(-1===h)return!1;for(u in"string"==typeof i&&-1!==Object.keys(l).indexOf(i)||(i="none"),isNaN(n)&&(n=this.C2_RUNTIME.all_global_vars[h].data),this.trackedVariables)if(Object.keys(this.trackedVariables[u]).indexOf(e)){this.unregisterTracker(u,e);break}return void 0===this.trackedVariables[t]&&(this.trackedVariables[t]={k:h,l:this.C2_RUNTIME.all_global_vars[h].data}),this.trackedVariables[t][e]={trackedVariable:t,objectUID:e,easing:i,initialValue:n,duration:r,currentTrackerValue:n,elapsedTime:0,treshold:o,active:1,running:1,decimals:a,pattern:s,puid:this.C2_RUNTIME.objectsByUid[e].puid},window.eventToFire.fireEvent("c2:tweeningVariables:tracker:registered:"+t,e,this.trackedVariables[t][e]),n===this.C2_RUNTIME.all_global_vars[h].data&&this.synchronizeTracker(t,e),!0},b.unregisterTracker=function(t,e){var i;return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&(i=this.trackedVariables[t][e],void 0!==this.C2_RUNTIME.objectsByUid[e]&&typeof this.C2_RUNTIME.objectsByUid[e].puid===this.trackedVariables[t][e].puid||(i.lost=1),delete this.trackedVariables[t][e],window.eventToFire.fireEvent("c2:tweeningVariables:tracker:unregistered:"+t,e,i),2===Object.keys(this.trackedVariables[t]).length&&delete this.trackedVariables[t],!0)},b.getEasingsList=function(t){var e=Object.keys("undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}});return t?JSON.stringify(e):e},b.getTracker=function(t,e,i){t=void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]?this.trackedVariables[t][e]:{};return i?JSON.stringify(t):t},b.pauseTracker=function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&(this.trackedVariables[t][e].active=0,window.eventToFire.fireEvent("c2:tweeningVariables:tracker:paused:"+t,e,this.trackedVariables[t][e])||!0)},b.resumeTracker=function(t,e){return!(void 0===this.trackedVariables[t]||void 0===this.trackedVariables[t][e]||!(this.trackedVariables[t][e].active=1))&&(window.eventToFire.fireEvent("c2:tweeningVariables:tracker:resumed:"+t,e,this.trackedVariables[t][e])||!0)},b.toggleTracker=function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&(this.trackedVariables[t][e].active?this.pauseTracker(t,e):this.resumeTracker(t,e))},b.getTrackersOf=function(t,e){t=void 0!==this.trackedVariables[t]?Object.keys(this.trackedVariables[t]).filter(function(t){return"k"!==t&&"l"!==t}):[];return e?JSON.stringify(t):t},b.synchronizeTracker=function(t,e){if(void 0===this.trackedVariables[t]||void 0===this.trackedVariables[t][e]||void 0===this.trackedVariables[t][e].puid||this.trackedVariables[t][e].puid!==this.C2_RUNTIME.objectsByUid[e].puid)return!1;var i={trackedVariable:t,objectUID:e},r=this.trackedVariables[t][e],n=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data;if(i.previousTime=r.elapsedTime,i.elapsedTime=r.elapsedTime+this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[e]),i.change=n-r.initialValue,i.roundedChange=Math.round(i.change*Math.pow(10,r.decimals))/Math.pow(10,r.decimals),i.initialValue=r.initialValue,i.previousTrackerValue=r.currentTrackerValue,i.previousTrackerValueFixed=Number(i.previousTrackerValue).toFixed(r.decimals),i.currentVariableValue=n,i.currentTrackerValue=n,i.currentTrackerValueFixed=Number(i.currentTrackerValue).toFixed(r.decimals),i.diffValue=n-i.currentTrackerValue,i.synchronized=2,"1.0.0"===playtouch.textParser.version)for(var a in i)i[a]+="";return this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[e],""+playtouch.textParser.parse(r.pattern,i)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,e,i),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,e,this.trackedVariables[t][e]),r.elapsedTime=0,r.running=0,r.currentTrackerValue=n,r.initialValue=n,!0},b.tick=function(){for(var t in this.trackedVariables){var e,i=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data,r=i!=this.trackedVariables[t].l,n="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{easeInLinear:function(t){return t}};for(e in this.trackedVariables[t].l=i,r&&window.eventToFire.fireEvent("c2:tweeningVariables:variable:changed:"+t,this.trackedVariables[t]),this.trackedVariables[t])if(-1===["k","l"].indexOf(e)){if(void 0===this.C2_RUNTIME.objectsByUid[e]||this.C2_RUNTIME.objectsByUid[e].puid!==this.trackedVariables[t][e].puid)return window.eventToFire.fireEvent("c2:tweeningVariables:tracker:lost:"+t,e,this.trackedVariables[t][e]),b.unregisterTracker(t,e);var a=this.trackedVariables[t][e],o=a.running;if(a.running=a.running||r||i!=a.currentTrackerValue?1:0,r&&(a.elapsedTime=0,a.initialValue=a.currentTrackerValue),a.active&&a.running){var s=a.elapsedTime,c=(a.elapsedTime+=this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[e]),{trackedVariable:t,objectUID:e}),u=(c.previousTime=s,c.elapsedTime=a.elapsedTime,c.change=Math.min(n[a.easing](c.elapsedTime/a.duration),1)*(i-a.initialValue),c.roundedChange=Math.round(c.change*Math.pow(10,a.decimals))/Math.pow(10,a.decimals),s=a.initialValue+c.roundedChange,c.previousTrackerValue=a.currentTrackerValue,c.previousTrackerValueFixed=Number(c.previousTrackerValue).toFixed(a.decimals),c.currentVariableValue=i,c.currentTrackerValue=s,c.currentTrackerValueFixed=Number(c.currentTrackerValue).toFixed(a.decimals),c.initialValue=a.initialValue,c.diffValue=i-s,c.synchronized=i==a.currentTrackerValue?1:0,Math.abs(c.diffValue)<a.treshold&&(c.diffValue=i-c.currentTrackerValue,c.currentTrackerValue=i,c.currentTrackerValueFixed=Number(c.currentTrackerValue).toFixed(a.decimals)),(c.currentTrackerValue+"").split(".")),h=(c.diffValue+"").split(".");if(1<u.length&&u[1].length>a.decimals&&(c.currentTrackerValue=Number(c.currentTrackerValue).toFixed(a.decimals)),1<h.length&&h[1].length>a.decimals&&(c.diffValue=Number(c.diffValue).toFixed(a.decimals)),"1.0.0"===playtouch.textParser.version)for(var l in c)c[l]+="";o||window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronizing:"+t,e,this.trackedVariables[t][e]),a.currentTrackerValue!==s&&(this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[e],""+playtouch.textParser.parse(a.pattern,c)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,e,c),a.currentTrackerValue=s),i==a.currentTrackerValue&&(a.running=0,a.initialValue=a.currentTrackerValue,window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,e,this.trackedVariables[t][e]))}}}},d.prototype.version="1.1.0",d.prototype.SCALE_MIN=.1,d.prototype.blocks=[],d.prototype.pushblock=function(t,e,i=0,r=0){return this.blocks.push({_id:this.blocks.length,name:t,width:e,height:i,layerName:r,toString:function(){return this._id}}),this.blocks[this.blocks.length-1].id},d.prototype.setBlockValue=function(t,e,i){return t>=this.blocks.length||(this.blocks[t][e]=i),t},d.prototype.setLastBlockValue=function(t,e){return this.setBlockValue(this.blocks.length-1,t,e)},d.prototype.getblocks=function(){return JSON.stringify(this.blocks)},d.prototype.flushBlocks=function(){this.blocks=[]},d.prototype.getWidthBlock=function(t,e=1){return cr_getC2Runtime?t.width*this.getScale(t.layerName,e):t.width},d.prototype.getWidthBlocks=function(i=1){return[0,...this.blocks].reduce((t,e)=>t+this.getWidthBlock(e,i))},d.prototype.getHeightBlock=function(t,e=1){return cr_getC2Runtime?t.height*this.getScale(t.layerName,e):t.height},d.prototype.getHeightBlocks=function(i=1){return[0,...this.blocks].reduce((t,e)=>t+this.getHeightBlock(e,i))},d.prototype.getTallerBlocksHeight=function(e=1){return Math.max(...this.blocks.map(t=>this.getHeightBlock(t,e)))},d.prototype.getWiderBlocksWidth=function(e=1){return Math.max(...this.blocks.map(t=>this.getWidthBlock(t,e)))},d.prototype.getScale=function(t,e=1){e=Math.max(this.SCALE_MIN,e);t=cr_getC2Runtime().getLayer(t);return t?(t.scale*e-1)*t.zoomRate+1:1},d.prototype.getXOnLayer=function(t,e,i){var t=cr_getC2Runtime().getLayer(t),r=cr_getC2Runtime().getLayer(0),n=cr_getC2Runtime().running_layout.scale;if(!t||!r)return e;void 0!==i&&(cr_getC2Runtime().running_layout.scale=i);t=t.canvasToLayer(r.layerToCanvas(e,0,!0),0,!0);return void 0!==i&&(cr_getC2Runtime().running_layout.scale=n),t},d.prototype.getYOnLayer=function(t,e,i){var t=cr_getC2Runtime().getLayer(t),r=cr_getC2Runtime().getLayer(0),n=cr_getC2Runtime().running_layout.scale;if(!t||!r)return e;void 0!==i&&(cr_getC2Runtime().running_layout.scale=i);t=t.canvasToLayer(0,r.layerToCanvas(0,e,!1),!1);return void 0!==i&&(cr_getC2Runtime().running_layout.scale=n),t},d.prototype.get2DigitComma=function(t){return Math.round(100*t)/100},d.prototype._getGoodScale=function(t,e,i,r,n=!0,a=!0){for(var o=n?this.getTallerBlocksHeight:this.getWiderBlocksWidth,s=n?e:i,c=n?i:e;t>this.SCALE_MIN&&(this._getSizeForFunc(t,n,a)>s||(a?o.call(this)*t:o.call(this,t))>c);)t=this.get2DigitComma(t-r);return t},d.prototype._getSizeForFunc=function(t,e=!0,i=!0,r=void 0){var n=void 0===r;return e&&n&&i?this.getWidthBlocks()*t:e&&n&&!i?this.getWidthBlocks(t):e&&!n&&i?this.getWidthBlock(r)*t:!e||n||i?!e&&n&&i?this.getHeightBlocks()*t:e||!n||i?e||n||!i?e||n||i?void 0:this.getHeightBlock(r,t):this.getHeightBlock(r)*t:this.getHeightBlocks(t):this.getWidthBlock(r,t)},d.prototype._getPlacement=function(e,t,i,r=!0,n=!0){var a=[],o=r?this.getXOnLayer:this.getYOnLayer,s=this.blocks.length,c=this._getSizeForFunc(e,r,n),u=(t<c?0:t-c)/(s+1);let h=t<c?t/2-c/2:0;for(let t=0;t<this.blocks.length;t++){var l=this.blocks[t],p=(h+=u,this._getSizeForFunc(e,!0,n,l)),d=this._getSizeForFunc(e,!1,n,l),l={name:l.name,pos:this.get2DigitComma(o(l.layerName,i+h+(r?p:d)/2,e))};n&&(l.width=this.get2DigitComma(p),l.height=this.get2DigitComma(d)),a.push(l),h+=r?p:d}return a},d.prototype.horizontal_getSizes=function(t=100,e=1/0,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return 0<this.blocks.length&&(o=this._getGoodScale(o,t,e,n,!0,!0),s=this._getPlacement(o,t,i,!0,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},d.prototype.horizontal_getScales=function(t=100,e=1/0,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return 0<this.blocks.length&&(this.blocks.find(t=>1<this.getScale(t.layerName,o))&&(o=this._getGoodScale(o,t,e,n,!0,!1)),s=this._getPlacement(o,t,i,!0,!1)),a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})},d.prototype.vertical_getSizes=function(t=1/0,e=100,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return 0<this.blocks.length&&(o=this._getGoodScale(o,t,e,n,!1,!0),s=this._getPlacement(o,e,i,!1,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},d.prototype.vertical_getScales=function(t=1/0,e=100,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return 0<this.blocks.length&&(this.blocks.find(t=>1<this.getScale(t.layerName,o))&&(o=this._getGoodScale(o,t,e,n,!1,!1)),s=this._getPlacement(o,e,i,!1,!1)),a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})},{});for(f in w.arrayWaitForFunction=(new c).init(),w.leaderboard=new l,w.nfsm=new u,w.timeNotifier=new h,w.achievement=new p,w.versionChecker=y,w.baseConverter=g,w.seedsField=m,w.textParser=v,w.getNew=t,w.regExp=i,w.easings=e,w.tweeningVariables=b.init(),w.blocksSpreading=new d,w)window.playtouch.modulesManager.register(f,w[f])}();