(function(){function e(e,...t){switch(window.playtouchGame.match3.logLevel){case 0:break;default:case 3:alert(e);case 2:console.error(e,t);break;case 1:console.log(e,t)}}function t(e){for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}}var i="c2:libJewel:";const s="1.0.4";class l{constructor(){return this.rules={match:[],move:[],canMove:[],posCreateItem:[],canCreateItem:[],createItem:function(){},createItemOption:function(){return{}},matchItems:[],swapItems:[],swapItemsMatch:[],canTouch:[],canDestroyNoItem:[],canDestroyItem:[],sortCells:void 0,onlyOneMatch:!1},this.rulesCache={checkMove:{}},this}init(e,t,s=h,l=r,n=o,c=window.playtouchGame.match3.RulesClass){return this.cellClass=s,this.itemClass=l,this.logicWidth=e,this.logicHeight=t,this.rulesClass=c,this.checkRules=new n(this.rules,this.rulesClass),this.rules.createItem=this.rulesClass.createItemDefault,this.createArray(),window.eventToFire.fireEvent(i+"initEnd"),this}addRules(e,t){if("object"==typeof this.rules[e]){if("function"==typeof t)this.rules[e].push(t);else if("object"==typeof t)for(let i=0;i<t.length;i++)this.rules[e].push(t[i])}else this.rules[e]=t;return"sortCells"===e&&void 0!==this.rules[e]&&(this.cells=this.cells.sort(this.rules[e])),this}createArray(){this.grid=[],this.cells=[];for(let e=0;e<this.logicWidth;e++){this.grid.push([]);for(let t=0;t<this.logicHeight;t++){let i=new this.cellClass(this,e,t);this.grid[e].push(i),this.cells.push(i),i.create()}}this.cellsSortTop||(this.cellsSortTop=[...this.cells].sort(this.rulesClass.sortCells_top)),window.eventToFire.fireEvent(i+"onGridEnded")}ld_load(e,t){let s=[];for(let i=0;i<e.length;i++){let l=this.getCell(e[i].x,e[i].y);if(!l)continue;let h=void 0!==e[i].cells&&void 0!==e[i].cells.option?e[i].cells.option:{},r=void 0!==e[i].items&&void 0!==e[i].items.option?e[i].items.option:{};if(this.applyOption(l,h),""!==l.type&&l.setType(l.type),"void"===l.type)continue;let o=["totem","virus","copyer","sinker","colorBomb","popper","blockLife"];if(o.includes(r.type)&&(r.color=-1),"switcher"==r.type){r.life=4;let e=[];for(let i=0;i<t;i++)r.color!=i&&e.push(i);r.switcherArrColor=[];let i=e.length;for(let t=0;t<i;t++)r.switcherArrColor.push(e.splice(Math.floor(Math.random()*e.length),1)[0]);r.color||(r.color=r.switcherArrColor.shift())}s.push({cell:l,optionItem:r})}for(let e=0;e<this.cells.length;e++)"void"!==this.cells[e].type&&(this.cells[e].item||-1==s.findIndex(t=>t.cell.id==this.cells[e].id)&&s.push({cell:this.cells[e]}));window.eventToFire.fireEvent(i+"ld_load_beforeCreateItem"),s.forEach(e=>{this.itemCreateOnCell(e.cell,e.optionItem)})}addUidOnItem(e,t){for(let i=0;i<this.cells.length;i++)if(this.cells[i].item&&this.cells[i].item._id==e)return void(this.cells[i].item.uid=t)}addUidOnCell(e,t){for(let i=0;i<this.cells.length;i++)if(this.cells[i]._id==e)return void(this.cells[i].uid=t)}getCell(e,t){if(!(e<0||t<0||e>=this.logicWidth||t>=this.logicHeight))return this.grid[e]&&this.grid[e][t]?this.grid[e][t]:void 0}getCellByPos(e){return this.getCell(e.x,e.y)}getCellById(e){for(let t=0;t<this.cells.length;t++)if(this.cells[t].id===e)return this.cells[t]}getRealWidth(){let e=1/0,t=0;for(var i=0;i<this.cells.length;i++){let s=this.cells[i];"void"!=s.type&&(s.x<=e&&(e=s.x),s.x>t&&(t=s.x))}return t-e+1}getRealHeight(){let e=1/0,t=0;for(var i=0;i<this.cells.length;i++){let s=this.cells[i];"void"!=s.type&&(s.y<=e&&(e=s.y),s.y>t&&(t=s.y))}return t-e+1}itemCreateOnCell(e,t={}){return e.item?(this.applyOption(e.item,t),e.item.updated(),e.item.id):this.rules.createItem(this,e,t)}itemCreateOnPos(e,t,i={}){for(let s=0;s<this.cells.length;s++)if(this.cells[s].x===e&&this.cells[s].y===t)return this.itemCreateOnCell(this.cells[s],i)}itemDestroyOnCell(e){e.destroyItem()}itemDestroyOnPos(e,t){for(let i=0;i<this.cells.length;i++)this.cells[i].x===e&&this.cells[i].y===t&&this.cells[i].destroyItem()}applyOption(t,i={}){if(t)for(var s in i)if(i.hasOwnProperty(s))try{t[s]=i[s]}catch(s){e("[applyOption] problem on add option",t,i,s)}}checkMove(e=!0){this.rulesCache.checkMove={};let t={};this.checkRules.itemCheckMoveGrid(this,t);return Object.keys(t||{}).length<=0&&window.eventToFire.fireEvent(i+"noItemMoved"),e?JSON.stringify(t):t}swapItem(e,t,s,l,h=!0,r=!1){let o=this.getCell(e,t),n=this.getCell(s,l);if(!o||!n)return!1;let c=o.item,a=n.item;return!(!c||!a)&&(!(!r&&(!this.checkRules.itemCanSwap(c,a,this)||h&&!this.checkRules.itemCanSwapMatch(c,a,this)))&&(r||window.eventToFire.fireEvent(i+"onBeforeItemSwapped",c.id,a.id),o.setItem(a,!r),n.setItem(c,!r),r||window.eventToFire.fireEvent(i+"onAfterItemSwapped",c.id,a.id),!0))}itemCanSwap(e,t,i,s){let l=this.getCell(e,t),h=this.getCell(i,s);if(!l||!h)return!1;let r=l.item,o=h.item;return!(!r||!o)&&!!this.checkRules.itemCanSwap(r,o,this)}swapItemByPos(e,t,i=!0,s=!1){return this.swapItem(e.x,e.y,t.x,t.y,i,s)}itemCanSwapByPos(e,t,i=!0,s=!1){return this.itemCanSwap(e.x,e.y,t.x,t.y)}checkMatch(e=!1,t=!0,s=!1){let l=this.sortMatchesByRule(this.checkRules.lookForMatchGrid(this));for(let e=0;e<l.length;e++)for(let t=0;t<l[e].match.length;t++){let i=l[e].match[t].pos.getCopy();l[e].match[t].item&&(i.id=l[e].match[t].item.id),l[e].match[t]=i}for(let e=0;e<l.length;e++)l[e].match=l[e].match.sort(n.sort);l=this.clearDuplicateMatch(l),l=this.clearContainedMatch(l);for(let h=0;h<l.length;h++)if(this.isStillACompleteMatch(l[h].match)){if(s||window.eventToFire.fireEvent(i+"onBeforeItemMatched",t?JSON.stringify(l[h]):l[h]),e)for(let e=0;e<l[h].match.length;e++){let t=this.getCellByPos(l[h].match[e]);t.item&&this.checkRules.checkDestroyItem(t,this,l[h])}if(s||window.eventToFire.fireEvent(i+"onItemMatched",t?JSON.stringify(l[h]):l[h]),this.rules.onlyOneMatch)break}return l.length<=0&&(s||window.eventToFire.fireEvent(i+"noItemMatched")),t?JSON.stringify(l):l}isStillACompleteMatch(e){for(let t=0;t<e.length;t++)if(!this.getCellByPos(e[t]).item||this.getCellByPos(e[t]).item.id!==e[t].id)return!1;return!0}sortMatchesByRule(e){let t=[];for(let i=0;i<this.rules.match.length;i++)for(let s=0;s<e.length;s++)e[s].name===this.rules.match[i].name&&t.push(e[s]);return t}clearDuplicateMatch(e){for(let t=0;t<e.length;t++)for(let i=e.length-1;i>=0;i--)t!=i&&e[t].name===e[i].name&&JSON.stringify(e[t].match)===JSON.stringify(e[i].match)&&e.splice(i,1);return e}clearContainedMatch(e){for(let t=0;t<e.length;t++)for(let i=e.length-1;i>=0;i--)t!=i&&e[i].match.every(i=>e[t].match.some(e=>n.equal(i,e)))&&e.splice(i,1);return e}getValueOfItemById(e,t,i=""){for(let s=0;s<this.cells.length;s++){let l=this.cells[s].item;if(l&&l.id==e)return void 0===l[t]?i:l[t]}return i}getValueOfItemByPos(e,t,i,s=""){let l=this.grid[e][t].item;return l&&l[i]||s}getValueOfCellById(e,t,i=""){for(let s=0;s<this.cells.length;s++)if(this.cells[s].id==e)return this.getValueOfCellByPos(this.cells[s].x,this.cells[s].y,t,i);return i}getValueOfCellByPos(e,t,i,s=""){return this.grid[e][t]?void 0===this.grid[e][t][i]?s:this.grid[e][t][i]:s}movePossible(e=!1,t=!1,s=!1,l=0){let h=!1;var r=[new n(0,-1),new n(0,1),new n(-1,0),new n(1,0)],o=[];if(void 0===this.rulesCache.movePossible||t&&void 0===this.rulesCache.movePossible.matches){for(var c=0;c<this.cells.length;c++){let e=this.cells[c];if(this.cellAndItemExist(e)){for(var a=0;a<r.length;a++){let i=this.getCellByPos(n.sumPos(e,r[a]));if(!this.cellAndItemExist(i))continue;let s=this.itemCanSwapByPos(e.item,i.item);if(!s)continue;let l=["line_h","line_v","bomb"];if("colorBomb"==e.item.type||"colorBomb"==i.item.type||l.includes(e.item.type)&&l.includes(i.item.type)){h=!0,t&&(o=[{name:"bonus",match:[]}],o[0].match.push(e.pos.getCopy()),o[0].match[o[0].match.length-1].id=e.item.id,o[0].match.push(i.pos.getCopy()),o[0].match[o[0].match.length-1].id=i.item.id,o[0].dest={from:o[0].match[0],to:o[0].match[1]});break}this.swapItemByPos(e.item,i.item,!0,!0);let c=this.rules.onlyOneMatch;this.rules.onlyOneMatch=!0;let u=this.checkMatch(!1,!1,!0);if(this.rules.onlyOneMatch=c,this.swapItemByPos(e.item,i.item,!0,!0),!(u.length<=0)){t&&(o=this.movePossibleFetchMatchReturn(u,e,i)),h=!0;break}}if(h)break}}void 0===this.rulesCache.movePossible&&(this.rulesCache.movePossible={}),this.rulesCache.movePossible.matches=o,this.rulesCache.movePossible.ret=h}else o=this.rulesCache.movePossible.matches,h=this.rulesCache.movePossible.ret;if(!h&&e)s?(window.eventToFire.fireEvent(i+"requiredShuffle"),h=!1):h=this.shuffleGrid(l);else if(t)return JSON.stringify(o);return this.rulesCache.movePossible.ret=h,h}movePossibleFetchMatchReturn(e,t,i){let s=e;for(let e=0;e<s[0].match.length;e++){let l=!1;for(let h=0;h<2;h++){let r=(0==h?t.pos:i.pos).getCopy(),o=(0==h?i.pos:t.pos).getCopy();if(r.id=0==h?t.item.id:i.item.id,o.id=0==h?i.item.id:t.item.id,n.equal(r,s[0].match[e])){s[0].match[e]=o,s[0].dest={from:o,to:r},l=!0;break}}if(l)break}return s}shuffleGrid(e=0){let s=[],l=[];if(e>=10)return window.eventToFire.fireEvent(i+"noShufflePossible"),!1;if(e>=9){let e,t=[];for(let e=0;e<this.cells.length;e++){let t=this.cells[e];this.cellAndItemExist(t)&&(""!=t.type&&"bgLife"!=t.type&&"coat"!=t.type||"bomb"!=t.item.type&&"line"!=t.item.type&&"line_v"!=t.item.type&&"line_h"!=t.item.type&&"colorBomb"!=t.item.type||s.push(t))}for(let i=0;i<s.length;i++){let l=[new n(0,1),new n(1,0),new n(0,-1),new n(-1,0)];for(let h=0;h<l.length;h++){let r=this.getCellByPos(n.sumPos(s[i].pos,l[h]));if(this.cellAndItemExist(r)&&((""==r.type||"bgLife"==r.type||"coat"==r.type)&&""==r.item.type)){t.push(r.item),t.push(s[i].item),s.splice(i,1),e=r.item;break}}if(e)break}window.eventToFire.fireEvent(i+"startShuffle",JSON.stringify(t.map(e=>({pos:{x:e.x,y:e.y},id:e.id})))),s.length<=0?e&&e.setType("bomb"):(e&&e.setType(s[0].item.type),s[0].item.setType(""))}else{for(let e=0;e<this.cells.length;e++){let t=this.cells[e];this.cellAndItemExist(t)&&(""!=t.type&&"bgLife"!=t.type&&"coat"!=t.type||""==t.item.type&&(s.push(t),l.push(t.item)))}window.eventToFire.fireEvent(i+"startShuffle",JSON.stringify(l.map(e=>({pos:{x:e.x,y:e.y},id:e.id})))),t(s),t(l);let h=l.reduce(function(e,t){return e>t.color?e:t.color})+1,r=2.5*h,o=0;for(let e=0;e<s.length;e++)for(s[e].setItem(l[e]);this.checkMatch(!1,!1,!0).length>0&&o++<r;)l[e].setColor(Math.floor(Math.random()*h));if(o>=r)return this.shuffleGrid(e+1)}return this.movePossible(!0,void 0,void 0,e+1)}cellAndItemExist(e){return!!e&&!!e.item}canTouch(e,t){let i=this.getCell(e,t);return!!i&&this.checkRules.canTouch(i)}canTouchByPos(e){return this.canTouch(e.x,e.y)}drawGrid(){let e="";e+="-----------------------------";for(let t=0;t<this.cellsSortTop.length;t++){t%this.logicWidth==0&&(0!=t&&(e+="|"),e+="\n|");let i=""+(this.cellsSortTop[t].item?this.cellsSortTop[t].item.color:" ");i=i.replace("-1","-"),e+=" "+i+" "}e+="|\n",e+="-----------------------------",console.log(e)}}class h{constructor(e,t,i){return this._id=++r.idU,this.uid=void 0,this.pos=new n(t,i),this.type="",this.item=void 0,this.isSpawn=!1,this.grid=e,this}create(){return delete this.grid.rulesCache.movePossible,window.eventToFire.fireEvent(i+"onCellCreated",this.id,this.logicX,this.logicY,this),this}get id(){return this.uid?this.uid:this._id}get x(){return this.pos.x}get y(){return this.pos.y}get logicX(){return this.pos.x}get logicY(){return this.pos.y}setItem(e,t=!0){if(this.item=e,this.item)return this.item.setCell(this,t),this}destroyItem(e){if(this.item)return this.item.destroy(e),this.item=void 0,this.updated(),this}setType(e){return this.type=e,delete this.grid.rulesCache.movePossible,window.eventToFire.fireEvent(i+"onCellTypeUpdated",this.id,this.logicX,this.logicY,this.type),this.updated(),this}updated(e=""){return delete this.grid.rulesCache.movePossible,window.eventToFire.fireEvent(i+"onCellUpdated",this.id,this.logicX,this.logicY,this.type,e,this),this}get info(){return{x:this.x,y:this.y,id:this.id,type:this.type}}static get idU(){return this._count?this._count:0}static set idU(e){this._count=e}}class r{constructor(e,t,i=-1,s=""){return this._id=++r.idU,this.uid=void 0,this.cell=e,this.type=s,this.color=i,this.grid=t,this}create(){return delete this.grid.rulesCache.movePossible,this.sendEvent("onItemCreated"),this}updated(){return delete this.grid.rulesCache.movePossible,this.sendEvent("onItemUpdated"),this}setCell(e,t=!0){return delete this.grid.rulesCache.movePossible,this.cell=e,t&&this.updated(),this}setType(e,t=!0){return delete this.grid.rulesCache.movePossible,this.type=e,t?(this.sendEvent("onItemTypeUpdated"),this.updated(),this):this}setColor(e){return this.color=e,this.sendEvent("onItemColorUpdated"),this.updated(),this}destroy(e){return e&&(this.destroyReason=e),this.sendEvent("onItemDestroy"),this}sendEvent(e){window.eventToFire.fireEvent(i+e,this.id,this.logicX,this.logicY,this.type,this.color,this)}get id(){return this.uid?this.uid:this._id}get logicX(){return this.cell?this.cell.logicX:-1}get logicY(){return this.cell?this.cell.logicY:-1}get x(){return this.cell?this.cell.logicX:-1}get y(){return this.cell?this.cell.logicY:-1}get info(){return{x:this.x,y:this.y,id:this.id,type:this.type,color:this.color}}static get idU(){return this._count?this._count:0}static set idU(e){this._count=e}}class o{constructor(e,t){this.rulesClass=t,this.rules=e,this.posCached={},this.posCached_match={},this.cache={}}getPosCreateItem(e,...t){return this.posCached[e.name]||(this.posCached[e.name]=e(...t)),this.posCached[e.name]}getPosMatchItem(e,...t){return this.posCached_match[e.name]||(this.posCached_match[e.name]=this.rulesClass.match_getPosibilities(e(...t))),this.posCached_match[e.name]}itemCanMatch(t,i){for(let s=0;s<this.rules.matchItems.length;s++){if("function"!=typeof this.rules.matchItems[s]){e("[CheckRules] matchItems rule is not a function",this.rules.matchItems[s]);continue}let l=this.rules.matchItems[s].call(this.rulesClass,t,i);if(l!==this.rulesClass.result_continue())return!!l}return!0}itemCanSwap(t,i,s){for(let l=0;l<this.rules.swapItems.length;l++){if("function"!=typeof this.rules.swapItems[l]){e("[CheckRules] swapItems rule is not a function",this.rules.swapItems[l]);continue}let h=this.rules.swapItems[l].call(this.rulesClass,t,i,s);if(h!==this.rulesClass.result_continue())return!!h}return!0}itemCanSwapMatch(t,i,s){for(let l=0;l<this.rules.swapItemsMatch.length;l++){if("function"!=typeof this.rules.swapItemsMatch[l]){e("[CheckRules] swapItems rule is not a function",this.rules.swapItems[l]);continue}let h=this.rules.swapItemsMatch[l].call(this.rulesClass,t,i,s);if(h!==this.rulesClass.result_continue())return!!h}return!0}lookForMatchGrid(e){let t=[];delete this.cache.checkMatchExist;for(let i=0;i<e.grid.length;i++)for(let s=0;s<e.grid[i].length;s++){if(!e.getCell(i,s).item)continue;let l=e.getCell(i,s);if(!this.itemCanMatch(l.item,l.item))continue;let h=this.lookForMatchCell(l,e);if(0!=h.length)for(let e=0;e<h.length;e++)t.push(h[e])}return t}lookForMatchCell(t,i){for(let s=0;s<this.rules.match.length;s++){if("function"!=typeof this.rules.match[s]){e("[CheckRules] match() rule is not a function",this.rules.match[s]);continue}let l=this.lookForMatchCellByRule(this.rules.match[s],t,i);if(l.length>0)return l}return[]}lookForMatchCellByRule(e,t,i){let s=this.getPosMatchItem(e),l=[];for(let h=0;h<s.length;h++){let r=[t],o=!0,n=this.lookForMatchCellByRule_getAllItemPos(i,t,s[h]);if(!(n.length<=0)){for(let e=0;e<n.length;e++){let i=n[e];if(!this.itemCanMatch(t.item,i.item)){o=!1;break}r.push(i)}o&&l.push({match:r,name:e.name})}}return l}lookForMatchCellByRule_getAllItemPos(e,t,i){let s=[];for(let l=0;l<i.length;l++){let h=e.getCellByPos(n.sumPos(t,i[l]));if(!h||!h.item)return[];s.push(h)}return s}lookForMatchCellByRule_isAlreadyCheck(e,t){this.cache.checkMatchExist||(this.cache.checkMatchExist={});let i=[e,...t].map(e=>e.pos.getCopy()).sort(n.sort),s=JSON.stringify(i);return!!this.cache.checkMatchExist[s]||(this.cache.checkMatchExist[s]=!0,!1)}itemCheckMoveGrid(t,i={},s=1){let l=!1;this.itemCheckAddItem(t);for(let s=0;s<this.rules.move.length;s++)if("function"==typeof this.rules.move[s]){for(let e=0;e<t.cellsSortTop.length;e++){let h=t.cellsSortTop[e].item;if(!h)continue;let r=new n(h.x,h.y),o=r;for(;r;)if(r=this.itemCheckMoveCellByRule(t,this.rules.move[s],h),0!=r){l=!0,i[h.id]||(i[h.id]=[o]),i[h.id].push(r);break}if(0!==s&&l)break}if(l)break}else e("[CheckRules] move() rule is not a function",this.rules.move[s]);return l&&this.itemCheckMoveGrid(t,i,s+1),i}itemCheckMoveCellByRule(t,s,l,h=!1){let r=s(t,l);r.hasOwnProperty("x")&&(r=[r]);for(let s=0;s<r.length;s++){let o=n.sumPos(r[s],l),c=t.getCellByPos(o);if(c)for(let t=0;t<this.rules.canMove.length;t++){if("function"!=typeof this.rules.canMove[t]){e("[CheckRules] canMove() rule is not a function",this.rules.canMove[t]);continue}let n=this.rules.canMove[t].call(this.rulesClass,l,c);if(n===this.rulesClass.result_handleTrue())return h||(window.eventToFire.fireEvent(i+"onBeforeItemMoved",l.id,c.x,c.y),l.cell.setItem(void 0),c.setItem(l),window.eventToFire.fireEvent(i+"onAfterItemMoved",l.id,c.x,c.y)),o;if(n===this.rulesClass.result_handleFalse()){if(s<r.length-1)break;return!1}}}return!1}itemCheckCanMove(t,i){let s=i.item;if(!s)return!1;for(let i=0;i<this.rules.move.length;i++){if("function"!=typeof this.rules.move[i]){e("[CheckRules] move() rule is not a function",this.rules.move[i]);continue}let l=this.itemCheckMoveCellByRule(t,this.rules.move[i],s,!0);if(0!=l)return!0}return!1}itemCheckAddItem(e){let s=[],l=[];for(let t=0;t<this.rules.posCreateItem.length;t++){let i=this.getPosCreateItem(this.rules.posCreateItem[t],e.logicWidth,e.logicHeight,e.cells);for(let e=0;e<i.length;e++)s.push(i[e])}t(s);for(let t=0;t<s.length;t++)for(let i=0;i<this.rules.canCreateItem.length;i++)if(this.rules.canCreateItem[i](e.getCellByPos(s[t]))){let i=e.getCellByPos(s[t]);l.push(i);let h=this.rules.createItemOption();h.createdType="drop",this.rules.createItem(e,i,h)}return l.length>0&&window.eventToFire.fireEvent(i+"allItemCreated",JSON.stringify(s)),l}checkDestroyItem(t,i,s={match:[],name:""},l=this.rules.canDestroyItem,h=this.rules.canDestroyNoItem,r){for(let l=0;l<h.length;l++){if("function"!=typeof h[l]){e("[CheckRules] canDestroyNoItem rule is not a function",h[l]);continue}let r=h[l].call(this.rulesClass,t,i,s);if(r!==this.rulesClass.result_continue()&&r===this.rulesClass.result_handleFalse())break}for(let h=0;h<l.length;h++){if("function"!=typeof l[h]){e("[CheckRules] canDestroyItem rule is not a function",l[h]);continue}if(!t.item)return!1;let o=l[h].call(this.rulesClass,t,i,s,r);if(o!==this.rulesClass.result_continue()){if(o===this.rulesClass.result_handleFalse())break;return t.destroyItem(r),!0}}return!1}canTouch(t){for(let i=0;i<this.rules.canTouch.length;i++){if("function"!=typeof this.rules.canTouch[i]){e("[CheckRules] canTouch rule is not a function",this.rules.canTouch[i]);continue}let s=this.rules.canTouch[i].call(this.rulesClass,t);if(s!==this.rulesClass.result_continue())return!!s}return!0}}class n{constructor(e,t){this.x=e,this.y=t}static equal(e,t){return e.x==t.x&&e.y==t.y}static sort(e,t){return e.x>t.x||e.y>t.y?1:-1}static sumPos(e,t){return new n(e.x+t.x,e.y+t.y)}static distPos(e,t){return t.x-e.x+(t.y-e.y)}isEqual(e){return this.constructor.equal(this,e)}getCopy(){return new n(this.x,this.y)}}void 0===window.playtouchGame&&(window.playtouchGame={}),void 0===window.playtouchGame.match3&&(window.playtouchGame.match3={}),window.playtouchGame.match3.logLevel=1,window.playtouchGame.match3.logMe=e,window.playtouchGame.match3.match3_lib_VERSION=s,window.playtouchGame.match3.Pos=n,window.playtouchGame.match3.Grid=l,window.playtouchGame.match3.Item=r,window.playtouchGame.match3.Cell=h})();