!function(){var t="PLib",e="4.0.0",r=void 0===window.eventToFire;if(!r){var i=!1;"undefined"!=typeof playtouch&&void 0!==playtouch.versionChecker?i=playtouch.versionChecker:void 0!==u&&(i=u),!1!==i&&(r=i.isVersionMin(e,playtouch.eventToFire.version,!1))}if(r){var n=window.eventToFire||{};if(n.events=window.eventToFire&&window.eventToFire.events?window.eventToFire.events:{},n.version=e,n.registerEvent=function(t,e,r){return"string"==typeof t&&(("function"==typeof e||"string"==typeof e)&&(void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push({func:e,staticArgs:r}),!0))},"function"!=typeof o)for(var a=[],o=function(){if("object"==typeof window.crypto&&"function"==typeof window.crypto.getRandomValues)var t=window.crypto.getRandomValues(new Uint32Array(4)),e=t[0],r=t[1],i=t[2],n=t[3];else e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&r]+a[r>>8&255]+"-"+a[r>>16&15|64]+a[r>>24&255]+"-"+a[63&i|128]+a[i>>8&255]+"-"+a[i>>16&255]+a[i>>24&255]+a[255&n]+a[n>>8&255]+a[n>>16&255]+a[n>>24&255]},s=0;s<256;s++)a[s]=(s<16?"0":"")+s.toString(16);n.fireEvent=function(t){if("string"!=typeof t)return!1;var e=Object.keys(this.events).filter((function(e){var r=e.replace(/\./g,"\\.");return-1!==r.indexOf("*")&&(r=r.split("*")[0]+".*"),new RegExp("^"+r+"$").test(t)})).sort((function(e,r){return r===t?1:e===t?-1:r.replace("*","").length-e.replace("*","").length})),r=o();if(0===e.length)return!1;for(var i=0;i<e.length;i++)for(var n=0;n<this.events[e[i]].length;n++){var a=this.events[e[i]][n].func;if("string"==typeof a){if("function"!=typeof window[a])continue;a=window[a]}var s=[].slice.call(arguments,1);s.push(this.events[e[i]][n].staticArgs),a.apply({eventName:t,eventUID:r,eventHandler:e[i],eventToFire:this},s)}return!0},n.getAllEvent=function(){return this.events},window.eventToFire=n,window.registerEvent=function(t,e,r){window.eventToFire.registerEvent(t,e,r)},window.fireEvent=function(t,e){window.eventToFire.fireEvent(t,e)}}void 0===window.eventToFire.c2Caller&&(window.eventToFire.c2Caller=function(e,r,i){this.registerEvent(e,function(e){c2_callFunction(e,[].slice.call(arguments,1),t+":eventToFire")}.bind(this,r),i)});var c={version:"1.0.0",tag:"MM",getVersion:function(t,e){return void 0!==playtouch[t]&&void 0!==playtouch[t].version?playtouch[t].version:void 0===e?"0.0.0":e},register:function(t,e){var r=!0;return"string"==typeof t&&void 0!==e&&void 0!==e.version&&(this.getVersion(t,!1)&&(r=void 0===playtouch.versionChecker||playtouch.versionChecker.versionStrToNum(this.getVersion(t))<playtouch.versionChecker.versionStrToNum(e.version)),r&&(playtouch[t]=e),r)}};"object"!=typeof window.playtouch&&(window.playtouch={PLIBS_VERSION:"2.4.0"}),void 0!==window.playtouch.modulesManager?window.playtouch.modulesManager.register("modulesManager",c):window.playtouch.modulesManager=c;var u={version:"1.1.0",versionStrToNum:function(t){if(void 0===t)return 0;"string"!=typeof t&&(t+="");var e=t.split(".");if(e.length>3)return 0;for(;e.length<3;)e.push(0);return 1e6*e[0]+1e3*e[1]+1*e[2]},isVersionMin:function(t,e,r){"boolean"!=typeof r&&(r=!0);var i=this.versionStrToNum(t);switch(typeof e){case"undefined":e=1;break;case"string":e=this.versionStrToNum(e);break;case"number":break;default:return!1}return i>e||r&&i==e}},h={version:"1.1.0",tag:"TP",toLower:function(t){return(t+"").toLocaleLowerCase()},toUpper:function(t){return(t+"").toLocaleUpperCase()},UCFirst:function(t){return(t+"").charAt(0).toLocaleUpperCase()+(t+"").slice(1)}};h.Capitalize=h.UCFirst,h.UCWords=function(t){return(t+"").replace(/^(.)|\s+(.)/g,(function(t){return(t+"").toLocaleUpperCase()}))},h.localeNumber=function(t){return(new Intl.NumberFormat).format(parseInt(t))};var l=function(t,e){var r=e.split("|"),i=r.pop();for(i="string"==typeof this[i]||"number"==typeof this[i]?this[i]:"string"==typeof this.__defaultValue||"number"==typeof this.__defaultValue?this.__defaultValue:"";r.length;){var n=r.pop();"function"==typeof h[n]?i=h[n](i):"function"==typeof window[n]&&(i=window[n](i))}return i};h.parse=function(t,e,r){if("string"!=typeof t&&(t=""),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return"object"!=typeof e&&(e={}),void 0===r&&(r=new RegExp(/{([a-zA-Z0-9\|]+)}/,"g")),t.replace(r,l.bind(e))};var p={version:"1.1.0",IntToBase:function(t,e){var r=(t=parseInt(t))<0;return t=Math.abs(t),e>9&&t<10?parseInt(t.toString(e))*(r?-1:1):(r?"-":"")+t.toString(e)},baseToInt:function(t,e){if(isNaN(t)){var r=void 0!==t[0]&&"-"===t[0];return parseInt(t.slice(r?1:0),e)*(r?-1:1)}return parseInt(t,e)}},f=function(){this.availableEngine={anonymous:{name:"anonymous",customInit:function(){},getAutoSeed:function(){return parseInt(233280*Math.random())},checkSeed:function(t){return"string"==typeof t&&(t=t.split("").reduce((function(t,e,r){return t+e.charCodeAt(0)*10**(3*r)}),0)%233280),isNaN(t)?this.getAutoSeed():(t=Math.round(parseInt(t)))>233280?t%233280:t},getNextValue:function(){return(9301*this.value+49297)%233280},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.value=this.getNextValue(),t--,this.step++},random:function(t,e){return t=t||1,(e=e||0)+this.value/233280*(t-e)}},alea:{name:"alea",customInit:function(){this.m=new function(){var t=4022871197;return function(e){for(var r,i,n,a=0,o=.02519603282416938;a<e.length;a++)n=e.charCodeAt(a),r=o*(t+=n)-(t*o|0),t=4294967296*((i=r*(o*t|0))-(0|i))+(0|i);return 2.3283064365386963e-10*(0|t)}},this.a=this.m(" "),this.b=this.m(" "),this.c=this.m(" "),this.y=0,this.a-=this.m(this.initialValue),this.b-=this.m(this.initialValue),this.c-=this.m(this.initialValue),this.a<0&&this.a++,this.b<0&&this.b++,this.c<0&&this.c++},getAutoSeed:function(){return+new Date+Math.random()},checkSeed:function(t){return t+""},getNextValue:function(){var t=2.3283064365386963e-10*this.value+2091639*this.a;this.b,this.c;return t-(0|t)},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.y=2.3283064365386963e-10*this.value+2091639*this.a,this.a=this.b,this.b=this.c,this.value=0|this.y,this.c=this.y-this.value,t--,this.step++},random:function(t,e){return t=t||1,(e=e||0)+this.c*(t-e)}}}};f.prototype.checkEngine=function(t){return"string"!=typeof t||"object"!=typeof this.availableEngine[t]?void 0!==d&&void 0!==d.DEFAULT_PRNG_ENGINE?d.DEFAULT_PRNG_ENGINE:"anonymous":t},f.prototype.init=function(t,e,r){return this.engine=this.checkEngine(r),this.initialValue=this.availableEngine[this.engine].checkSeed.apply(this,arguments),this.value="number"==typeof this.initialValue?this.initialValue:1,this.step=0,this.label="string"==typeof e?e:"",this.availableEngine[this.engine].customInit.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":init"),window.eventToFire.fireEvent("c2:seed:init",this),this},f.prototype.getAutoSeed=function(){return this.availableEngine[this.engine].getAutoSeed.apply(this,arguments)},f.prototype.grow=function(t){return"number"==typeof t&&t%1==0||(t=1),this.availableEngine[this.engine].grow.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":grow",t),window.eventToFire.fireEvent("c2:seed:grow",this,t),this},f.prototype.getNextValue=function(){return this.availableEngine[this.engine].getNextValue.apply(this,arguments)},f.prototype.random=function(t,e,r){"boolean"!=typeof r&&(r=!0),r&&this.grow();var i=this.availableEngine[this.engine].random.apply(this,arguments);return""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":random",i,t,e),window.eventToFire.fireEvent("c2:seed:random",this,i,t,e),i};var d={DEFAULT_SEED_NAME:"_defaultSeed",DEFAULT_PRNG_ENGINE:"anonymous",version:"1.2.0",seeds:{},plant:function(t,e,r){var i=(new f).init(e,t,r);return"string"==typeof t&&(this.seeds[t]=i,window.eventToFire.fireEvent("c2:seedsField:plant",t),window.eventToFire.fireEvent("c2:seedsField:plant_"+t)),i},uproot:function(t){return"string"==typeof t&&t!==this.DEFAULT_SEED_NAME&&void 0!==this.seeds[t]?(delete this.seeds[t],window.eventToFire.fireEvent("c2:seedsField:uproot",t),window.eventToFire.fireEvent("c2:seedsField:uproot_"+t),1):0}};d.unplant=d.uproot,d.getPlantedSeeds=function(t){var e=Object.keys(this.seeds);switch("string"!=typeof t&&(t="array"),t.toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},d.getAvailableEngines=function(t){var e=Object.keys((new f).availableEngine);switch("string"!=typeof t&&(t="array"),t.toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},d.getSeedStep=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].step},d.getSeedInitialValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].initialValue},d.getSeedCurrentValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].value},d.getSeedNextValue=function(t,e){return void 0===e&&(e=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].getNextValue()},d.getPrediction=function(t,e,r,i){return void 0===t||void 0===this.seeds[t]?void 0!==i&&i:(new f).init(this.seeds[t].initialValue,void 0,this.seeds[t].engine).grow(this.seeds[t].step).random(e,r,i)},d.random=function(t,e,r,i,n){return void 0===i&&(i=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?i:this.seeds[t].random(e,r,n)},d.getSeedRandomAt=function(t,e,r,i,n,a){return void 0===a&&(a=!1),"number"==typeof r&&r%1==0||(r=0),(new f).init(t,void 0,e).grow(r).random(i,n)},d.plant(d.DEFAULT_SEED_NAME,void 0,d.DEFAULT_PRNG_ENGINE);var y=function(){};y.prototype.version="1.6.0",y.prototype.tag="W4F",y.prototype.array=[],y.prototype.arrayJs=[],y.prototype.arrayEndTick=[],y.prototype.id=0,y.prototype.init=function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this.C2_RUNTIME.tick2Me(this),this},y.prototype.update=function(t,e){for(var r=0;r<e.length;r++)e[r].active&&(e[r].time-=t);this.checkArrayEndOfTime(e)},y.prototype.updateAll=function(t){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs),this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},y.prototype.tick=function(){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs)},y.prototype.tick2=function(){this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},y.prototype.toString=function(){return"arrayWaitForFunction"},y.prototype.waitForFunction=function(t,e,r,i){return r=Number(r)!=Number(r)||" "===r?r:Number(r),this.pushToArray(this.array,t,e,r,i)},y.prototype.waitForFunctionEndTick=function(t,e,r,i){return r=Number(r)!=Number(r)||" "===r?r:Number(r),this.pushToArray(this.arrayEndTick,t,e,r,i)},y.prototype.waitForFunctionJS=function(t,e,r,i){return this.pushToArray(this.arrayJs,t,e,r,i)},y.prototype.pushToArray=function(t,e,r,i,n){return t.push({active:!0,time:e,callback:r,param:i,id:this.id,persistentLevel:void 0===n?0:n}),this.id++},y.prototype.checkArrayEndOfTime=function(e){for(var r,i=0;i<e.length;i++)if(e[i].time<=0){r=e.splice(i,1)[0];break}void 0!==r&&("function"==typeof r.callback?r.callback(r.param):(c2_callFunction(r.callback,[r.param],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:arrayWaitForFunction:trigger",r.id,r.callback,r.param)),this.checkArrayEndOfTime(e))},y.prototype.clearArrayWait=function(t){[this.array,this.arrayEndTick,this.arrayJs].forEach((e=>this.clearArrayWaitByArray(e,t)))},y.prototype.clearArrayWaitByArray=function(t,e){e=void 0===e?0:e;for(var r=t.length-1;r>=0;r--)t[r].persistentLevel<=e&&t.splice(r,1)[0]},y.prototype.stopWaitById=function(t){[this.array,this.arrayEndTick,this.arrayJs].forEach((e=>this.stopWaitByIdByArray(e,t)))},y.prototype.stopWaitByIdByArray=function(t,e){for(var r=0;r<t.length;r++)if(t[r].id==e){t.splice(r,1);break}},y.prototype.getTimeUntilEndOf=function(t,e){for(var r=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<r.length;i++){let n=this.getTimeUntilEndOfByArray(r[i],t,e);if(n!==e)return n}return e},y.prototype.getTimeUntilEndOfByArray=function(t,e,r){void 0===r&&(r=-1);for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i].time;return r},y.prototype.addTimeById=function(t,e){for(var r=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<r.length;i++){let n=this.addTimeByIdByArray(r[i],t,e);if(-1!==n)return n}return-1},y.prototype.addTimeByIdByArray=function(t,e,r){for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i].time+=r,t[i].time;return-1},y.prototype.setTimeById=function(t,e){for(var r=[this.array,this.arrayEndTick,this.arrayJs],i=0;i<r.length;i++){let n=this.setTimeByIdByArray(r[i],t,e);if(-1!==n)return n}return-1},y.prototype.setTimeByIdByArray=function(t,e,r){for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i].time=r,t[i].time;return-1},y.prototype.startWaitNowById=function(t){[this.array,this.arrayEndTick,this.arrayJs].forEach((e=>this.startWaitNowByIdByArray(e,t)))},y.prototype.startWaitNowByIdByArray=function(e,r){for(var i,n=0;n<e.length;n++)if(e[n].id==r){i=e.splice(n,1)[0];break}void 0!==i&&c2_callFunction(i.callback,[i.param],t+":"+this.__proto__.tag)},y.prototype.pauseById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<e.length;r++){let i=this.pauseByIdByArray(e[r],t);if(!1!==i)return i}return!1},y.prototype.pauseByIdByArray=function(t,e){for(var r=0;r<t.length;r++)if(t[r].id==e)return t[r].active=!1,!0;return!1},y.prototype.resumeById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<e.length;r++){let i=this.resumeByIdByArray(e[r],t);if(!1!==i)return i}return!1},y.prototype.resumeByIdByArray=function(t,e){for(var r=0;r<t.length;r++)if(t[r].id==e)return t[r].active=!0,!0;return!1},y.prototype.isPausedById=function(t){for(var e=[this.array,this.arrayEndTick,this.arrayJs],r=0;r<e.length;r++){let i=this.isPausedByIdByArray(e[r],t);if(-1!==i)return i}return!1},y.prototype.isPausedByIdByArray=function(t,e){for(var r=0;r<t.length;r++)if(t[r].id==e)return!t[r].active;return-1},y.prototype.pauseAll=function(){return[this.array,this.arrayEndTick,this.arrayJs].forEach((t=>this.pauseAllByArray(t))),!1},y.prototype.pauseAllByArray=function(t){for(var e=0;e<t.length;e++)t[e].active=!1},y.prototype.resumeAll=function(){return[this.array,this.arrayEndTick,this.arrayJs].forEach((t=>this.resumeAllByArray(t))),!0},y.prototype.resumeAllByArray=function(t){for(var e=0;e<t.length;e++)t[e].active=!0};var v=function(){};v.prototype.version="1.2.0",v.prototype.tag="NFSM",v.prototype.currentState="default",v.prototype.nextState="",v.prototype.setCurrentState=function(t){this.currentState=""+t,window.eventToFire.fireEvent("c2:nfsm:setCurrentState",t)},v.prototype.setNext=function(t){this.nextState=""+t,window.eventToFire.fireEvent("c2:nfsm:setNext",t)},v.prototype.next=function(e){if(null==e||""==e){if(null==this.nextState||""==this.nextState)return void console.error("no next state","next State is required")}else this.setNext(e);e=this.nextState;var r=c2_callFunction("beforeExit_"+this.currentState,[this.currentState,e,{current:this.currentState,nextState:e}],t+":"+this.__proto__.tag),i=c2_callFunction("beforeEnter_"+e,[this.currentState,e,{current:this.currentState,nextState:e,beforeExitResult:r}],t+":"+this.__proto__.tag);if(window.eventToFire.fireEvent("c2:nfsm:nextRequest",{current:this.currentState,beforeExit:r,beforeEnter:i}),0==r&&0==i){c2_callFunction("onExit_"+this.currentState,[this.currentState,e,{current:this.currentState,next:this.nextState}],t+":"+this.__proto__.tag);var n=this.currentState;this.currentState=e,this.nextState="",window.eventToFire.fireEvent("c2:nfsm:nextSucceed",{previous:this.previousState,current:this.currentState}),c2_callFunction("onEnter_"+this.currentState,[this.currentState,n,{current:this.currentState,previous:n}],t+":"+this.__proto__.tag)}else window.eventToFire.fireEvent("c2:nfsm:nextFailed",{current:this.currentState,rejected:e,next:this.nextState}),c2_callFunction("onFailExit_"+this.currentState,[this.currentState,e,r,i,{current:this.currentState,nextState:e,beforeExitActualState:r,beforeEnterNextState:i}],t+":"+this.__proto__.tag),c2_callFunction("onFailEnter_"+e,[this.currentState,e,r,i,{current:this.currentState,nextState:e,beforeExitActualState:r,beforeEnterNextState:i}],t+":"+this.__proto__.tag);window.eventToFire.fireEvent("c2:nfsm:next",e)},v.prototype.getCurrentStep=function(){return this.currentState},v.prototype.getNextStep=function(){return this.nextState};var g=function(){};g.prototype.saveKey="timeNotifier",g.prototype.version="1.1.0",g.prototype.tag="TN",g.prototype.state={ACTIVE:"active",PENDING:"pending",UNACTIVE:"unactive"},g.prototype.arrayNotif={},g.prototype.init=function(){this.load(),this.checkNotif()},g.prototype.getCompressedStr=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]={},0!==t[r].count&&(e[r].c=t[r].count),e[r].s=p.IntToBase(t[r].timeStart,36),t[r].lastAck>-1&&(e[r].a=p.IntToBase(Math.max(0,t[r].timeStart-t[r].lastAck),36)),86400!==t[r].time&&(e[r].t=p.IntToBase(t[r].time,36)),t[r].timeEnd-1e3*t[r].time!==t[r].timeStart&&(e[r].d=p.IntToBase(Math.max(0,t[r].timeEnd-t[r].timeStart),36)),""!==t[r].message&&(e[r].m=t[r].message),t[r].state!==this.state.ACTIVE&&(e[r].e=t[r].state===this.state.UNACTIVE?0:1));return JSON.stringify(e)},g.prototype.getUnCompressedObj=function(t){var e={};if("object"==typeof t)r=t;else try{var r=JSON.parse(t)}catch(t){return e}for(var i in r)r.hasOwnProperty(i)&&(void 0===r[i].name?(e[i]={name:i},e[i].time=void 0===r[i].t?86400:p.baseToInt(r[i].t,36),e[i].state=void 0===r[i].e?this.state.ACTIVE:0==r[i].e?this.state.UNACTIVE:this.state.PENDING,e[i].message=void 0===r[i].m?"":r[i].m,e[i].timeStart=p.baseToInt(r[i].s,36),e[i].lastAck=void 0===r[i].a?-1:e[i].timeStart-p.baseToInt(r[i].a,36),e[i].timeEnd=void 0===r[i].d?e[i].timeStart+1e3*e[i].time:e[i].timeStart+p.baseToInt(r[i].d,36),e[i].count=void 0===r[i].c?0:r[i].c):e[i]=Object.assign({},r[i]));return e},g.prototype.load=function(){this.arrayNotif=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],t+":"+this.__proto__.tag)),window.eventToFire.fireEvent("c2:timeNotifier:load")},g.prototype.save=function(){var e=0;for(var r in this.arrayNotif){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayNotif),""],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:timeNotifier:save"))},g.prototype.set=function(t,e,r,i,n,a){void 0===this.arrayNotif[t]&&(this.arrayNotif[t]={count:0,lastAck:-1}),this.arrayNotif[t].state=this.state.ACTIVE,this.arrayNotif[t].name=t,this.arrayNotif[t].time=e,this.arrayNotif[t].message=r,this.arrayNotif[t].timeStart=Date.now(),this.arrayNotif[t].timeEnd=Date.now()+1e3*e,this.save(),i&&window.eventToFire.fireEvent("c2:timeNotifier:onSetNotification",this.arrayNotif[t],n,a),window.eventToFire.fireEvent("c2:timeNotifier:set",t,e,r,i,n,a)},g.prototype.ack=function(t){void 0!==this.arrayNotif[t]&&this.arrayNotif[t].state==this.state.PENDING&&(this.arrayNotif[t].count++,this.arrayNotif[t].state=this.state.UNACTIVE,this.arrayNotif[t].lastAck=Date.now(),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:ack",t))},g.prototype.cancel=function(t){return void 0!==this.arrayNotif[t]&&(this.arrayNotif[t].state=this.state.UNACTIVE,this.save(),window.eventToFire.fireEvent("c2:timeNotifier:cancel",t),!0)},g.prototype.get=function(t){return void 0===this.arrayNotif[t]?0:JSON.stringify(this.arrayNotif[t])},g.prototype.getValue=function(t,e,r){return void 0===r&&(r=-1),void 0===this.arrayNotif[t]||void 0===e||void 0===this.arrayNotif[t][e]?r:this.arrayNotif[t][e]},g.prototype.getAll=function(){return JSON.stringify(this.arrayNotif)},g.prototype.exist=function(t){return void 0!==this.arrayNotif[t]},g.prototype.checkNotifByName=function(e){void 0!==this.arrayNotif[e]&&this.arrayNotif[e].state!=this.state.UNACTIVE&&(Date.now()<this.arrayNotif[e].timeEnd||(this.arrayNotif[e].state=this.state.PENDING,c2_callFunction("timeNotifier_onNotification",[e,this.arrayNotif[e].eventMessage,JSON.stringify(this.arrayNotif[e])],t+":"+this.__proto__.tag),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:onNotification",this.arrayNotif[e]),window.eventToFire.fireEvent("c2:timeNotifier:"+e,this.arrayNotif[e])))},g.prototype.checkNotif=function(){for(var t in this.arrayNotif)this.checkNotifByName(t)},g.prototype.getSecondBySpecificTime=function(t,e,r){var i=new Date;return i.setHours(t,e,r),i.getTime()-Date.now()<0&&i.setHours(t+24),i.getTime()},g.prototype.toHHMMSS=function(t){var e=parseInt(t,10),r=Math.floor(e/3600),i=Math.floor((e-3600*r)/60);t=e-3600*r-60*i;return r<10&&(r="0"+r),i<10&&(i="0"+i),t<10&&(t="0"+t),r+":"+i+":"+t},g.prototype.getState=function(t){return this.state[t]};var m=function(){this.capableToDisplayLeaderboard=!1};m.prototype.version="1.1.1",m.prototype.tag="LB",m.prototype.init=function(){window.eventToFire.registerEvent("leaderboard:onSubmitScoreSucceeded",(function(e){c2_callFunction("leaderboard_onSubmitScoreSucceeded",[],t+":"+this.__proto__.tag)})),window.eventToFire.registerEvent("leaderboard:onSubmitScoreFailed",(function(e){c2_callFunction("leaderboard_onSubmitScoreFailed",[],t+":"+this.__proto__.tag)}));var e=this;window.eventToFire.registerEvent("leaderboard:ICanDisplayLeaderboard",(function(t){"boolean"!=typeof t&&(t=!0),e.capableToDisplayLeaderboard=t})),window.eventToFire.fireEvent("c2:leaderboard:init")},m.prototype.canDisplayLeaderboard=function(){return this.capableToDisplayLeaderboard?1:0},m.prototype.submitScore=function(t,e){return e=parseInt(e),"string"!=typeof t||"number"!=typeof e||isNaN(e)?0:(window.eventToFire.fireEvent("c2:leaderboard:submitScore",t,e),1)},m.prototype.showLeaderboard=function(t,e){return"number"==typeof e&&(e=0!=e),"boolean"!=typeof e&&(e=!0),window.eventToFire.fireEvent("c2:leaderboard:showLeaderboard",t,e),1},m.prototype.showLeaderboards=function(){return window.eventToFire.fireEvent("c2:leaderboard:showLeaderboards"),1};var E=function(){};E.prototype.saveKey="achievement",E.prototype.version="1.2.0",E.prototype.tag="AC",E.prototype.state={HIDDEN:"HIDDEN",REVEALED:"REVEALED",UNLOCKED:"UNLOCKED"},E.prototype.type={STANDARD:"STANDARD",INCREMENTAL:"INCREMENTAL"},E.prototype.arrayAchievement={},E.prototype.init=function(){this.load();var e=function(e,r){c2_callFunction("achievement_onNotification",[e.achievement_code,r,e.currentStep,e.achievement_steps,JSON.stringify(e),e.previousStep],t+":"+this.__proto__.tag)};window.eventToFire.registerEvent("c2:achievement:unlock",e),window.eventToFire.registerEvent("c2:achievement:increment",e)},E.prototype.getCompressedStr=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]={},t[r].currentStep>0&&t[r].achievement_state!==this.state.UNLOCKED&&(e[r].s=p.IntToBase(t[r].currentStep,36)),t[r].seen||(e[r].e=0),t[r].achievement_type===this.type.INCREMENTAL&&(e[r].m=p.IntToBase(t[r].achievement_steps,36)),t[r].achievement_state!==this.state.REVEALED&&(e[r].a=t[r].achievement_state===this.state.HIDDEN?0:1),("{}"===JSON.stringify(e[r])||void 0===e[r].s&&void 0===e[r].e&&void 0===e[r].a&&void 0!==e[r].m)&&delete e[r]);return JSON.stringify(e)},E.prototype.getUnCompressedObj=function(t){var e={};if("object"==typeof t)r=t;else try{var r=JSON.parse(t)}catch(t){return e}for(var i in r)r.hasOwnProperty(i)&&(void 0===r[i].achievement_code?(e[i]={achievement_code:i},e[i].seen=void 0===r[i].e,e[i].achievement_type=void 0===r[i].m?this.type.STANDARD:this.type.INCREMENTAL,e[i].achievement_steps=void 0===r[i].m?1:p.baseToInt(r[i].m,36),e[i].achievement_state=void 0===r[i].a?this.state.REVEALED:r[i].a>0?this.state.UNLOCKED:this.state.HIDDEN,e[i].currentStep=void 0!==r[i].s?p.baseToInt(r[i].s,36):e[i].achievement_state===this.state.UNLOCKED?e[i].achievement_steps:0):e[i]=Object.assign({},r[i]));return e},E.prototype.load=function(){this.arrayAchievement=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],t+":"+this.__proto__.tag))},E.prototype.save=function(){var e=0;for(var r in this.arrayAchievement){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayAchievement),""],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:achievement:save"))},E.prototype.show=function(){window.eventToFire.fireEvent("c2:achievement:show")},E.prototype.register=function(t,e,r){if(void 0!==this.arrayAchievement[t])return window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t]);"string"==typeof(r=r||{})&&(r=JSON.parse(r)),this.arrayAchievement[t]=(new b).create(t,e,r.achievement_state||this.state.REVEALED,r.achievement_type||(1==e?this.type.STANDARD:this.type.INCREMENTAL)),this.save(),window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t])},E.prototype.unlock=function(t){if(this.arrayAchievement[t]){var e=this.arrayAchievement[t];e.achievement_type==this.type.STANDARD&&(e.currentStep>=e.achievement_steps||(e.previousStep=parseInt(e.currentStep),e.currentStep=e.achievement_steps,e.seen=!1,e.achievement_state=this.state.UNLOCKED,this.save(),window.eventToFire.fireEvent("c2:achievement:unlock",e,1)))}},E.prototype.increment=function(t,e){if(this.arrayAchievement[t]){var r=this.arrayAchievement[t];r.achievement_type==this.type.INCREMENTAL&&(r.currentStep>=r.achievement_steps||(r.previousStep=parseInt(r.currentStep),r.currentStep+=e,r.currentStep=Math.min(r.currentStep,r.achievement_steps),r.currentStep==r.achievement_steps&&(r.seen=!1,r.achievement_state=this.state.UNLOCKED),this.save(),window.eventToFire.fireEvent("c2:achievement:increment",r,e)))}},E.prototype.get=function(t,e){return void 0!==t&&void 0!==e?void 0===this.arrayAchievement[t]||void 0===this.arrayAchievement[t][e]?-1:this.arrayAchievement[t][e]:void 0!==t?void 0===this.arrayAchievement[t]?-1:JSON.stringify(this.arrayAchievement[t]):JSON.stringify(this.arrayAchievement)},E.prototype.getUnSeen=function(){var t={};for(var e in this.arrayAchievement)this.arrayAchievement[e].seen||(t[e]=this.arrayAchievement[e]);return JSON.stringify(t)},E.prototype.getUnSeenCount=function(){var t=0;for(var e in this.arrayAchievement)this.arrayAchievement[e].seen||t++;return t},E.prototype.markAsSeenSpecific=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].seen=!0,this.save(),window.eventToFire.fireEvent("c2:achievement:markAsSeen",this.arrayAchievement[t]))},E.prototype.markAsSeen=function(t){for(var e in this.arrayAchievement)this.markAsSeenSpecific(e)},E.prototype.reveal=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].achievement_state=this.state.REVEALED,this.save(),window.eventToFire.fireEvent("c2:achievement:reveal",this.arrayAchievement[t]))};var b=function(){};b.prototype.create=function(t,e,r,i){return this.currentStep=0,this.seen=!0,this.achievement_code=t,this.achievement_type=i,this.achievement_steps=e,this.achievement_state=r,this};var w={version:"1.0.0",tag:"GN",date:function(){return new Date},regexp:function(t,e){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e)}},T={version:"1.0.0",tag:"RX",test:function(t,e,r){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e).test(r)?1:0}},_={version:"1.0.0",tag:"EZ"};_.X_FUNCTIONS={none:function(t){return 1},linear:function(t){return t},easeInLinear:function(t){return t},easeOutLinear:function(t){return t},easeInOutLinear:function(t){return t},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-Math.pow(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-Math.pow(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-Math.pow(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},easeOutCirc:function(t){return sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInBack:function(t){const e=1.70158;return 2.70158*t*t*t-e*t*t},easeOutBack:function(t){const e=1.70158;return 1+2.70158*Math.pow(t-1,3)+e*Math.pow(t-1,2)},easeInOutBack:function(t){const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2},easeInElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)},easeOutElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeInOutElastic:function(t){const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1},easeInBounce:function(t){return 1-function(t){const e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375}(1-t)},easeOutBounce:function(t){const e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375},easeInOutBounce:function(t){const e=function(t){const e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375};return t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2}},_.TBCD_FUNCTIONS={none:function(t,e,r,i){return e+r},linear:function(t,e,r,i){return r*(t/=i)+e},easeInQuad:function(t,e,r,i){return r*(t/=i)*t+e},easeOutQuad:function(t,e,r,i){return-r*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,r,i){return r*(t/=i)*t*t+e},easeOutCubic:function(t,e,r,i){return r*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,r,i){return r*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,r,i){return-r*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t*t+e:-r/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,r,i){return r*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,r,i){return r*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+e:r/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+e},easeOutSine:function(t,e,r,i){return r*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,r,i){return 0==t?e:r*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,r,i){return t==i?e+r:r*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,r,i){return 0==t?e:t==i?e+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+e:r/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+e:r/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,r,i){var n=1.70158,a=0,o=r;if(0==t)return e;if(1==(t/=i))return e+r;if(a||(a=.3*i),o<Math.abs(r)){o=r;n=a/4}else n=a/(2*Math.PI)*Math.asin(r/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)+e},easeOutElastic:function(t,e,r,i){var n=1.70158,a=0,o=r;if(0==t)return e;if(1==(t/=i))return e+r;if(a||(a=.3*i),o<Math.abs(r)){o=r;n=a/4}else n=a/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*i-n)*(2*Math.PI)/a)+r+e},easeInOutElastic:function(t,e,r,i){var n=1.70158,a=0,o=r;if(0==t)return e;if(2==(t/=i/2))return e+r;if(a||(a=i*(.3*1.5)),o<Math.abs(r)){o=r;n=a/4}else n=a/(2*Math.PI)*Math.asin(r/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/a)*.5+r+e},easeInBack:function(t,e,r,i,n){return null==n&&(n=1.70158),r*(t/=i)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,r,i,n){return null==n&&(n=1.70158),r*((t=t/i-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,r,i,n){return null==n&&(n=1.70158),(t/=i/2)<1?r/2*(t*t*((1+(n*=1.525))*t-n))+e:r/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:function(t,e,r,i){return r-this.easeOutBounce(i-t,0,r,i)+e},easeOutBounce:function(t,e,r,i){return(t/=i)<1/2.75?r*(7.5625*t*t)+e:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+e:r*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,r,i){return t<i/2?.5*this.easeInBounce(2*t,0,r,i)+e:.5*this.easeOutBounce(2*t-i,0,r,i)+.5*r+e}};var N={version:"2.0.0",tag:"TV",trackedVariables:{},init:function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this},toString:function(){return"tweeningVariables"},registerTracker:function(t,e,r,i,n,a,o,s){if("number"!=typeof i&&(i=1),"number"!=typeof a&&(a=0),"number"!=typeof o&&(o=1),n=parseFloat(n),void 0===s&&(s="{currentTrackerValue}"),"string"!=typeof t||"number"!=typeof e||void 0===this.C2_RUNTIME.objectsByUid[e]||"function"!=typeof this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText)return!1;var c=-1,u="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}};for(var h in this.C2_RUNTIME.all_global_vars)this.C2_RUNTIME.all_global_vars[h].name===t&&(c=h);if(-1===c)return!1;for(var l in"string"==typeof r&&-1!==Object.keys(u).indexOf(r)||(r="none"),isNaN(n)&&(n=this.C2_RUNTIME.all_global_vars[c].data),this.trackedVariables)if(Object.keys(this.trackedVariables[l]).indexOf(e)){this.unregisterTracker(l,e);break}return void 0===this.trackedVariables[t]&&(this.trackedVariables[t]={k:c,l:this.C2_RUNTIME.all_global_vars[c].data}),this.trackedVariables[t][e]={trackedVariable:t,objectUID:e,easing:r,initialValue:n,duration:i,currentTrackerValue:n,elapsedTime:0,treshold:o,active:1,running:1,decimals:a,pattern:s,puid:this.C2_RUNTIME.objectsByUid[e].puid},window.eventToFire.fireEvent("c2:tweeningVariables:tracker:registered:"+t,e,this.trackedVariables[t][e]),n===this.C2_RUNTIME.all_global_vars[c].data&&this.synchronizeTracker(t,e),!0},unregisterTracker:function(t,e){if(void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]){var r=this.trackedVariables[t][e];return void 0!==this.C2_RUNTIME.objectsByUid[e]&&typeof this.C2_RUNTIME.objectsByUid[e].puid===this.trackedVariables[t][e].puid||(r.lost=1),delete this.trackedVariables[t][e],window.eventToFire.fireEvent("c2:tweeningVariables:tracker:unregistered:"+t,e,r),2===Object.keys(this.trackedVariables[t]).length&&delete this.trackedVariables[t],!0}return!1},getEasingsList:function(t){var e=Object.keys("undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}});return t?JSON.stringify(e):e},getTracker:function(t,e,r){var i=void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]?this.trackedVariables[t][e]:{};return r?JSON.stringify(i):i},pauseTracker:function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&!(this.trackedVariables[t][e].active=0)&&(window.eventToFire.fireEvent("c2:tweeningVariables:tracker:paused:"+t,e,this.trackedVariables[t][e])||!0)},resumeTracker:function(t,e){return!(void 0===this.trackedVariables[t]||void 0===this.trackedVariables[t][e]||!(this.trackedVariables[t][e].active=1))&&(window.eventToFire.fireEvent("c2:tweeningVariables:tracker:resumed:"+t,e,this.trackedVariables[t][e])||!0)},toggleTracker:function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&(this.trackedVariables[t][e].active?this.pauseTracker(t,e):this.resumeTracker(t,e))},getTrackersOf:function(t,e){var r=void 0!==this.trackedVariables[t]?Object.keys(this.trackedVariables[t]).filter((function(t){return"k"!==t&&"l"!==t})):[];return e?JSON.stringify(r):r},synchronizeTracker:function(t,e){if(void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&void 0!==this.trackedVariables[t][e].puid&&this.trackedVariables[t][e].puid===this.C2_RUNTIME.objectsByUid[e].puid){var r={trackedVariable:t,objectUID:e},i=this.trackedVariables[t][e],n=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data;if(r.previousTime=i.elapsedTime,r.elapsedTime=i.elapsedTime+this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[e]),r.change=n-i.initialValue,r.roundedChange=Math.round(r.change*Math.pow(10,i.decimals))/Math.pow(10,i.decimals),r.initialValue=i.initialValue,r.previousTrackerValue=i.currentTrackerValue,r.previousTrackerValueFixed=Number(r.previousTrackerValue).toFixed(i.decimals),r.currentVariableValue=n,r.currentTrackerValue=n,r.currentTrackerValueFixed=Number(r.currentTrackerValue).toFixed(i.decimals),r.diffValue=n-r.currentTrackerValue,r.synchronized=2,"1.0.0"===playtouch.textParser.version)for(var a in r)r[a]+="";return this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[e],""+playtouch.textParser.parse(i.pattern,r)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,e,r),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,e,this.trackedVariables[t][e]),i.elapsedTime=0,i.running=0,i.currentTrackerValue=n,i.initialValue=n,!0}return!1},tick:function(){for(var t in this.trackedVariables){var e=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data,r=e!=this.trackedVariables[t].l,i="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{easeInLinear:function(t){return t}};for(var n in this.trackedVariables[t].l=e,r&&window.eventToFire.fireEvent("c2:tweeningVariables:variable:changed:"+t,this.trackedVariables[t]),this.trackedVariables[t])if(-1===["k","l"].indexOf(n)){if(void 0===this.C2_RUNTIME.objectsByUid[n]||this.C2_RUNTIME.objectsByUid[n].puid!==this.trackedVariables[t][n].puid)return window.eventToFire.fireEvent("c2:tweeningVariables:tracker:lost:"+t,n,this.trackedVariables[t][n]),N.unregisterTracker(t,n);var a=this.trackedVariables[t][n],o=a.running;if(a.running=a.running||r||e!=a.currentTrackerValue?1:0,r&&(a.elapsedTime=0,a.initialValue=a.currentTrackerValue),a.active&&a.running){var s=a.elapsedTime;a.elapsedTime+=this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[n]);var c,u={trackedVariable:t,objectUID:n};u.previousTime=s,u.elapsedTime=a.elapsedTime,u.change=Math.min(i[a.easing](u.elapsedTime/a.duration),1)*(e-a.initialValue),u.roundedChange=Math.round(u.change*Math.pow(10,a.decimals))/Math.pow(10,a.decimals),c=a.initialValue+u.roundedChange,u.previousTrackerValue=a.currentTrackerValue,u.previousTrackerValueFixed=Number(u.previousTrackerValue).toFixed(a.decimals),u.currentVariableValue=e,u.currentTrackerValue=c,u.currentTrackerValueFixed=Number(u.currentTrackerValue).toFixed(a.decimals),u.initialValue=a.initialValue,u.diffValue=e-c,u.synchronized=e==a.currentTrackerValue?1:0,Math.abs(u.diffValue)<a.treshold&&(u.diffValue=e-u.currentTrackerValue,u.currentTrackerValue=e,u.currentTrackerValueFixed=Number(u.currentTrackerValue).toFixed(a.decimals));var h=(u.currentTrackerValue+"").split("."),l=(u.diffValue+"").split(".");if(h.length>1&&h[1].length>a.decimals&&(u.currentTrackerValue=Number(u.currentTrackerValue).toFixed(a.decimals)),l.length>1&&l[1].length>a.decimals&&(u.diffValue=Number(u.diffValue).toFixed(a.decimals)),"1.0.0"===playtouch.textParser.version)for(var p in u)u[p]+="";o||window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronizing:"+t,n,this.trackedVariables[t][n]),a.currentTrackerValue!==c&&(this.C2_RUNTIME.objectsByUid[n].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[n],""+playtouch.textParser.parse(a.pattern,u)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,n,u),a.currentTrackerValue=c),e==a.currentTrackerValue&&(a.running=0,a.initialValue=a.currentTrackerValue,window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,n,this.trackedVariables[t][n]))}}}}},k=function(){};k.prototype.version="1.1.0",k.prototype.SCALE_MIN=.1,k.prototype.blocks=[],k.prototype.pushblock=function(t,e,r=0,i=0){return this.blocks.push({_id:this.blocks.length,name:t,width:e,height:r,layerName:i,toString:function(){return this._id}}),this.blocks[this.blocks.length-1].id},k.prototype.setBlockValue=function(t,e,r){return t>=this.blocks.length||(this.blocks[t][e]=r),t},k.prototype.setLastBlockValue=function(t,e){return this.setBlockValue(this.blocks.length-1,t,e)},k.prototype.getblocks=function(){return JSON.stringify(this.blocks)},k.prototype.flushBlocks=function(){this.blocks=[]},k.prototype.getWidthBlock=function(t,e=1){return cr_getC2Runtime?t.width*this.getScale(t.layerName,e):t.width},k.prototype.getWidthBlocks=function(t=1){return[0,...this.blocks].reduce(((e,r)=>e+this.getWidthBlock(r,t)))},k.prototype.getHeightBlock=function(t,e=1){return cr_getC2Runtime?t.height*this.getScale(t.layerName,e):t.height},k.prototype.getHeightBlocks=function(t=1){return[0,...this.blocks].reduce(((e,r)=>e+this.getHeightBlock(r,t)))},k.prototype.getTallerBlocksHeight=function(t=1){return Math.max(...this.blocks.map((e=>this.getHeightBlock(e,t))))},k.prototype.getWiderBlocksWidth=function(t=1){return Math.max(...this.blocks.map((e=>this.getWidthBlock(e,t))))},k.prototype.getScale=function(t,e=1){e=Math.max(this.SCALE_MIN,e);let r=cr_getC2Runtime().getLayer(t);return r?(r.scale*e-1)*r.zoomRate+1:1},k.prototype.getXOnLayer=function(t,e,r){let i=cr_getC2Runtime().getLayer(t),n=cr_getC2Runtime().getLayer(0),a=cr_getC2Runtime().running_layout.scale;if(!i||!n)return e;void 0!==r&&(cr_getC2Runtime().running_layout.scale=r);let o=i.canvasToLayer(n.layerToCanvas(e,0,!0),0,!0);return void 0!==r&&(cr_getC2Runtime().running_layout.scale=a),o},k.prototype.getYOnLayer=function(t,e,r){let i=cr_getC2Runtime().getLayer(t),n=cr_getC2Runtime().getLayer(0),a=cr_getC2Runtime().running_layout.scale;if(!i||!n)return e;void 0!==r&&(cr_getC2Runtime().running_layout.scale=r);let o=i.canvasToLayer(0,n.layerToCanvas(0,e,!1),!1);return void 0!==r&&(cr_getC2Runtime().running_layout.scale=a),o},k.prototype.get2DigitComma=function(t){return Math.round(100*t)/100},k.prototype._getGoodScale=function(t,e,r,i,n=!0,a=!0){let o=n?this.getTallerBlocksHeight:this.getWiderBlocksWidth,s=n?e:r,c=n?r:e;for(;t>this.SCALE_MIN&&(this._getSizeForFunc(t,n,a)>s||(a?o.call(this)*t:o.call(this,t))>c);)t=this.get2DigitComma(t-i);return t},k.prototype._getSizeForFunc=function(t,e=!0,r=!0,i=void 0){let n=void 0===i;return e&&n&&r?this.getWidthBlocks()*t:e&&n&&!r?this.getWidthBlocks(t):e&&!n&&r?this.getWidthBlock(i)*t:!e||n||r?!e&&n&&r?this.getHeightBlocks()*t:e||!n||r?e||n||!r?e||n||r?void 0:this.getHeightBlock(i,t):this.getHeightBlock(i)*t:this.getHeightBlocks(t):this.getWidthBlock(i,t)},k.prototype._getPlacement=function(t,e,r,i=!0,n=!0){let a=[],o=i?this.getXOnLayer:this.getYOnLayer,s=this.blocks.length,c=this._getSizeForFunc(t,i,n),u=(c>e?0:e-c)/(s+1),h=c>e?e/2-c/2:0;for(let e=0;e<this.blocks.length;e++){let s=this.blocks[e];h+=u;let c=this._getSizeForFunc(t,!0,n,s),l=this._getSizeForFunc(t,!1,n,s),p={name:s.name,pos:this.get2DigitComma(o(s.layerName,r+h+(i?c:l)/2,t))};n&&(p.width=this.get2DigitComma(c),p.height=this.get2DigitComma(l)),a.push(p),h+=i?c:l}return a},k.prototype.horizontal_getSizes=function(t=100,e=1/0,r=0,i=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,i),s=[];return this.blocks.length>0&&(o=this._getGoodScale(o,t,e,n,!0,!0),s=this._getPlacement(o,t,r,!0,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},k.prototype.horizontal_getScales=function(t=100,e=1/0,r=0,i=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,i),s=[];if(this.blocks.length>0){!!this.blocks.find((t=>this.getScale(t.layerName,o)>1))&&(o=this._getGoodScale(o,t,e,n,!0,!1)),s=this._getPlacement(o,t,r,!0,!1)}return a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})},k.prototype.vertical_getSizes=function(t=1/0,e=100,r=0,i=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,i),s=[];return this.blocks.length>0&&(o=this._getGoodScale(o,t,e,n,!1,!0),s=this._getPlacement(o,e,r,!1,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},k.prototype.vertical_getScales=function(t=1/0,e=100,r=0,i=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,i),s=[];if(this.blocks.length>0){!!this.blocks.find((t=>this.getScale(t.layerName,o)>1))&&(o=this._getGoodScale(o,t,e,n,!1,!1)),s=this._getPlacement(o,e,r,!1,!1)}return a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})};var S={};for(var I in S.arrayWaitForFunction=(new y).init(),S.leaderboard=new m,S.nfsm=new v,S.timeNotifier=new g,S.achievement=new E,S.versionChecker=u,S.baseConverter=p,S.seedsField=d,S.textParser=h,S.getNew=w,S.regExp=T,S.easings=_,S.tweeningVariables=N.init(),S.blocksSpreading=new k,S)window.playtouch.modulesManager.register(I,S[I])}();