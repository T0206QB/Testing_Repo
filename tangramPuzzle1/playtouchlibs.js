!function(){var t="PLib",e="4.0.0",i=void 0===window.eventToFire;if(!i){var r=!1;"undefined"!=typeof playtouch&&void 0!==playtouch.versionChecker?r=playtouch.versionChecker:void 0!==u&&(r=u),!1!==r&&(i=r.isVersionMin(e,playtouch.eventToFire.version,!1))}if(i){var n=window.eventToFire||{};if(n.events=window.eventToFire&&window.eventToFire.events?window.eventToFire.events:{},n.version=e,n.registerEvent=function(t,e,i){return"string"==typeof t&&(("function"==typeof e||"string"==typeof e)&&(void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push({func:e,staticArgs:i}),!0))},"function"!=typeof o)for(var a=[],o=function(){if("object"==typeof window.crypto&&"function"==typeof window.crypto.getRandomValues)var t=window.crypto.getRandomValues(new Uint32Array(4)),e=t[0],i=t[1],r=t[2],n=t[3];else e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]+"-"+a[255&i]+a[i>>8&255]+"-"+a[i>>16&15|64]+a[i>>24&255]+"-"+a[63&r|128]+a[r>>8&255]+"-"+a[r>>16&255]+a[r>>24&255]+a[255&n]+a[n>>8&255]+a[n>>16&255]+a[n>>24&255]},s=0;s<256;s++)a[s]=(s<16?"0":"")+s.toString(16);n.fireEvent=function(t){if("string"!=typeof t)return!1;var e=Object.keys(this.events).filter((function(e){var i=e.replace(/\./g,"\\.");return-1!==i.indexOf("*")&&(i=i.split("*")[0]+".*"),new RegExp("^"+i+"$").test(t)})).sort((function(e,i){return i===t?1:e===t?-1:i.replace("*","").length-e.replace("*","").length})),i=o();if(0===e.length)return!1;for(var r=0;r<e.length;r++)for(var n=0;n<this.events[e[r]].length;n++){var a=this.events[e[r]][n].func;if("string"==typeof a){if("function"!=typeof window[a])continue;a=window[a]}var s=[].slice.call(arguments,1);s.push(this.events[e[r]][n].staticArgs),a.apply({eventName:t,eventUID:i,eventHandler:e[r],eventToFire:this},s)}return!0},n.getAllEvent=function(){return this.events},window.eventToFire=n,window.registerEvent=function(t,e,i){window.eventToFire.registerEvent(t,e,i)},window.fireEvent=function(t,e){window.eventToFire.fireEvent(t,e)}}void 0===window.eventToFire.c2Caller&&(window.eventToFire.c2Caller=function(e,i,r){this.registerEvent(e,function(e){c2_callFunction(e,[].slice.call(arguments,1),t+":eventToFire")}.bind(this,i),r)});var c={version:"1.0.0",tag:"MM",getVersion:function(t,e){return void 0!==playtouch[t]&&void 0!==playtouch[t].version?playtouch[t].version:void 0===e?"0.0.0":e},register:function(t,e){var i=!0;return"string"==typeof t&&void 0!==e&&void 0!==e.version&&(this.getVersion(t,!1)&&(i=void 0===playtouch.versionChecker||playtouch.versionChecker.versionStrToNum(this.getVersion(t))<playtouch.versionChecker.versionStrToNum(e.version)),i&&(playtouch[t]=e),i)}};"object"!=typeof window.playtouch&&(window.playtouch={PLIBS_VERSION:"2.3.0"}),void 0!==window.playtouch.modulesManager?window.playtouch.modulesManager.register("modulesManager",c):window.playtouch.modulesManager=c;var u={version:"1.1.0",versionStrToNum:function(t){if(void 0===t)return 0;"string"!=typeof t&&(t+="");var e=t.split(".");if(e.length>3)return 0;for(;e.length<3;)e.push(0);return 1e6*e[0]+1e3*e[1]+1*e[2]},isVersionMin:function(t,e,i){"boolean"!=typeof i&&(i=!0);var r=this.versionStrToNum(t);switch(typeof e){case"undefined":e=1;break;case"string":e=this.versionStrToNum(e);break;case"number":break;default:return!1}return r>e||i&&r==e}},h={version:"1.1.0",tag:"TP",toLower:function(t){return(t+"").toLocaleLowerCase()},toUpper:function(t){return(t+"").toLocaleUpperCase()},UCFirst:function(t){return(t+"").charAt(0).toLocaleUpperCase()+(t+"").slice(1)}};h.Capitalize=h.UCFirst,h.UCWords=function(t){return(t+"").replace(/^(.)|\s+(.)/g,(function(t){return(t+"").toLocaleUpperCase()}))},h.localeNumber=function(t){return(new Intl.NumberFormat).format(parseInt(t))};var l=function(t,e){var i=e.split("|"),r=i.pop();for(r="string"==typeof this[r]||"number"==typeof this[r]?this[r]:"string"==typeof this.__defaultValue||"number"==typeof this.__defaultValue?this.__defaultValue:"";i.length;){var n=i.pop();"function"==typeof h[n]?r=h[n](r):"function"==typeof window[n]&&(r=window[n](r))}return r};h.parse=function(t,e,i){if("string"!=typeof t&&(t=""),"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return"object"!=typeof e&&(e={}),void 0===i&&(i=new RegExp(/{([a-zA-Z0-9\|]+)}/,"g")),t.replace(i,l.bind(e))};var p={version:"1.1.0",IntToBase:function(t,e){var i=(t=parseInt(t))<0;return t=Math.abs(t),e>9&&t<10?parseInt(t.toString(e))*(i?-1:1):(i?"-":"")+t.toString(e)},baseToInt:function(t,e){if(isNaN(t)){var i=void 0!==t[0]&&"-"===t[0];return parseInt(t.slice(i?1:0),e)*(i?-1:1)}return parseInt(t,e)}},f=function(){this.availableEngine={anonymous:{name:"anonymous",customInit:function(){},getAutoSeed:function(){return parseInt(233280*Math.random())},checkSeed:function(t){return"string"==typeof t&&(t=t.split("").reduce((function(t,e,i){return t+e.charCodeAt(0)*10**(3*i)}),0)%233280),isNaN(t)?this.getAutoSeed():(t=Math.round(parseInt(t)))>233280?t%233280:t},getNextValue:function(){return(9301*this.value+49297)%233280},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.value=this.getNextValue(),t--,this.step++},random:function(t,e){return t=t||1,(e=e||0)+this.value/233280*(t-e)}},alea:{name:"alea",customInit:function(){this.m=new function(){var t=4022871197;return function(e){for(var i,r,n,a=0,o=.02519603282416938;a<e.length;a++)n=e.charCodeAt(a),i=o*(t+=n)-(t*o|0),t=4294967296*((r=i*(o*t|0))-(0|r))+(0|r);return 2.3283064365386963e-10*(0|t)}},this.a=this.m(" "),this.b=this.m(" "),this.c=this.m(" "),this.y=0,this.a-=this.m(this.initialValue),this.b-=this.m(this.initialValue),this.c-=this.m(this.initialValue),this.a<0&&this.a++,this.b<0&&this.b++,this.c<0&&this.c++},getAutoSeed:function(){return+new Date+Math.random()},checkSeed:function(t){return t+""},getNextValue:function(){var t=2.3283064365386963e-10*this.value+2091639*this.a;this.b,this.c;return t-(0|t)},grow:function(t){for("number"==typeof t&&t%1==0||(t=1);t;)this.y=2.3283064365386963e-10*this.value+2091639*this.a,this.a=this.b,this.b=this.c,this.value=0|this.y,this.c=this.y-this.value,t--,this.step++},random:function(t,e){return t=t||1,(e=e||0)+this.c*(t-e)}}}};f.prototype.checkEngine=function(t){return"string"!=typeof t||"object"!=typeof this.availableEngine[t]?void 0!==d&&void 0!==d.DEFAULT_PRNG_ENGINE?d.DEFAULT_PRNG_ENGINE:"anonymous":t},f.prototype.init=function(t,e,i){return this.engine=this.checkEngine(i),this.initialValue=this.availableEngine[this.engine].checkSeed.apply(this,arguments),this.value="number"==typeof this.initialValue?this.initialValue:1,this.step=0,this.label="string"==typeof e?e:"",this.availableEngine[this.engine].customInit.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":init"),window.eventToFire.fireEvent("c2:seed:init",this),this},f.prototype.getAutoSeed=function(){return this.availableEngine[this.engine].getAutoSeed.apply(this,arguments)},f.prototype.grow=function(t){return"number"==typeof t&&t%1==0||(t=1),this.availableEngine[this.engine].grow.apply(this,arguments),""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":grow",t),window.eventToFire.fireEvent("c2:seed:grow",this,t),this},f.prototype.getNextValue=function(){return this.availableEngine[this.engine].getNextValue.apply(this,arguments)},f.prototype.random=function(t,e,i){"boolean"!=typeof i&&(i=!0),i&&this.grow();var r=this.availableEngine[this.engine].random.apply(this,arguments);return""!==this.label&&window.eventToFire.fireEvent("c2:seed_"+this.label+":random",r,t,e),window.eventToFire.fireEvent("c2:seed:random",this,r,t,e),r};var d={DEFAULT_SEED_NAME:"_defaultSeed",DEFAULT_PRNG_ENGINE:"anonymous",version:"1.2.0",seeds:{},plant:function(t,e,i){var r=(new f).init(e,t,i);return"string"==typeof t&&(this.seeds[t]=r,window.eventToFire.fireEvent("c2:seedsField:plant",t),window.eventToFire.fireEvent("c2:seedsField:plant_"+t)),r},uproot:function(t){return"string"==typeof t&&t!==this.DEFAULT_SEED_NAME&&void 0!==this.seeds[t]?(delete this.seeds[t],window.eventToFire.fireEvent("c2:seedsField:uproot",t),window.eventToFire.fireEvent("c2:seedsField:uproot_"+t),1):0}};d.unplant=d.uproot,d.getPlantedSeeds=function(t){var e=Object.keys(this.seeds);switch("string"!=typeof t&&(t="array"),t.toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},d.getAvailableEngines=function(t){var e=Object.keys((new f).availableEngine);switch("string"!=typeof t&&(t="array"),t.toLowerCase()){case"string":return e.join(",");case"json":return JSON.stringify(e);default:return e}},d.getSeedStep=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].step},d.getSeedInitialValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].initialValue},d.getSeedCurrentValue=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].value},d.getSeedNextValue=function(t,e){return void 0===e&&(e=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?e:this.seeds[t].getNextValue()},d.getPrediction=function(t,e,i,r){return void 0===t||void 0===this.seeds[t]?void 0!==r&&r:(new f).init(this.seeds[t].initialValue,void 0,this.seeds[t].engine).grow(this.seeds[t].step).random(e,i,r)},d.random=function(t,e,i,r,n){return void 0===r&&(r=!1),"string"==typeof t&&""!==t||(t=this.DEFAULT_SEED_NAME),void 0===this.seeds[t]?r:this.seeds[t].random(e,i,n)},d.getSeedRandomAt=function(t,e,i,r,n,a){return void 0===a&&(a=!1),"number"==typeof i&&i%1==0||(i=0),(new f).init(t,void 0,e).grow(i).random(r,n)},d.plant(d.DEFAULT_SEED_NAME,void 0,d.DEFAULT_PRNG_ENGINE);var v=function(){};v.prototype.version="1.5.0",v.prototype.tag="W4F",v.prototype.array=[],v.prototype.arrayJs=[],v.prototype.arrayEndTick=[],v.prototype.id=0,v.prototype.init=function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this.C2_RUNTIME.tick2Me(this),this},v.prototype.update=function(t,e){for(var i=0;i<e.length;i++)e[i].active&&(e[i].time-=t);this.checkArrayEndOfTime(e)},v.prototype.updateAll=function(t){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs),this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},v.prototype.tick=function(){this.update(this.C2_RUNTIME.getDt(),this.array),this.update(this.C2_RUNTIME.getDt(),this.arrayJs)},v.prototype.tick2=function(){this.update(this.C2_RUNTIME.getDt(),this.arrayEndTick)},v.prototype.toString=function(){return"arrayWaitForFunction"},v.prototype.waitForFunction=function(t,e,i,r){return i=Number(i)!=Number(i)||" "===i?i:Number(i),this.pushToArray(this.array,t,e,i,r)},v.prototype.waitForFunctionEndTick=function(t,e,i,r){return i=Number(i)!=Number(i)||" "===i?i:Number(i),this.pushToArray(this.arrayEndTick,t,e,i,r)},v.prototype.waitForFunctionJS=function(t,e,i,r){return this.pushToArray(this.arrayJs,t,e,i,r)},v.prototype.pushToArray=function(t,e,i,r,n){return t.push({active:!0,time:e,callback:i,param:r,id:this.id,persistentLevel:void 0===n?0:n}),this.id++},v.prototype.checkArrayEndOfTime=function(e){for(var i,r=0;r<e.length;r++)if(e[r].time<=0){i=e.splice(r,1)[0];break}void 0!==i&&("function"==typeof i.callback?i.callback(i.param):(c2_callFunction(i.callback,[i.param],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:arrayWaitForFunction:trigger",i.id,i.callback,i.param)),this.checkArrayEndOfTime(e))},v.prototype.clearArrayWait=function(t){t=void 0===t?0:t;for(var e=this.array.length-1;e>=0;e--)this.array[e].persistentLevel<=t&&this.array.splice(e,1)[0]},v.prototype.stopWaitById=function(t){for(var e=0;e<this.array.length;e++)if(this.array[e].id==t){this.array.splice(e,1);break}},v.prototype.getTimeUntilEndOf=function(t,e){void 0===e&&(e=-1);for(var i=0;i<this.array.length;i++)if(this.array[i].id==t)return this.array[i].time;return e},v.prototype.addTimeById=function(t,e){for(var i=0;i<this.array.length;i++)if(this.array[i].id==t)return this.array[i].time+=e,this.array[i].time;return-1},v.prototype.setTimeById=function(t,e){for(var i=0;i<this.array.length;i++)if(this.array[i].id==t)return this.array[i].time=e,this.array[i].time;return-1},v.prototype.startWaitNowById=function(e){for(var i,r=0;r<this.array.length;r++)if(this.array[r].id==e){i=this.array.splice(r,1)[0];break}void 0!==i&&c2_callFunction(i.callback,[i.param],t+":"+this.__proto__.tag)},v.prototype.pauseById=function(t){for(var e=0;e<this.array.length;e++)if(this.array[e].id==t)return this.array[e].active=!1,this.array[e].active;return!1},v.prototype.resumeById=function(t){for(var e=0;e<this.array.length;e++)if(this.array[e].id==t)return this.array[e].active=!0,this.array[e].active;return!1},v.prototype.pauseAll=function(){for(var t=0;t<this.array.length;t++)this.array[t].active=!1;return!1},v.prototype.resumeAll=function(){for(var t=0;t<this.array.length;t++)this.array[t].active=!0;return!0};var y=function(){};y.prototype.version="1.2.0",y.prototype.tag="NFSM",y.prototype.currentState="default",y.prototype.nextState="",y.prototype.setCurrentState=function(t){this.currentState=""+t,window.eventToFire.fireEvent("c2:nfsm:setCurrentState",t)},y.prototype.setNext=function(t){this.nextState=""+t,window.eventToFire.fireEvent("c2:nfsm:setNext",t)},y.prototype.next=function(e){if(null==e||""==e){if(null==this.nextState||""==this.nextState)return void console.error("no next state","next State is required")}else this.setNext(e);e=this.nextState;var i=c2_callFunction("beforeExit_"+this.currentState,[this.currentState,e,{current:this.currentState,nextState:e}],t+":"+this.__proto__.tag),r=c2_callFunction("beforeEnter_"+e,[this.currentState,e,{current:this.currentState,nextState:e,beforeExitResult:i}],t+":"+this.__proto__.tag);if(window.eventToFire.fireEvent("c2:nfsm:nextRequest",{current:this.currentState,beforeExit:i,beforeEnter:r}),0==i&&0==r){c2_callFunction("onExit_"+this.currentState,[this.currentState,e,{current:this.currentState,next:this.nextState}],t+":"+this.__proto__.tag);var n=this.currentState;this.currentState=e,this.nextState="",window.eventToFire.fireEvent("c2:nfsm:nextSucceed",{previous:this.previousState,current:this.currentState}),c2_callFunction("onEnter_"+this.currentState,[this.currentState,n,{current:this.currentState,previous:n}],t+":"+this.__proto__.tag)}else window.eventToFire.fireEvent("c2:nfsm:nextFailed",{current:this.currentState,rejected:e,next:this.nextState}),c2_callFunction("onFailExit_"+this.currentState,[this.currentState,e,i,r,{current:this.currentState,nextState:e,beforeExitActualState:i,beforeEnterNextState:r}],t+":"+this.__proto__.tag),c2_callFunction("onFailEnter_"+e,[this.currentState,e,i,r,{current:this.currentState,nextState:e,beforeExitActualState:i,beforeEnterNextState:r}],t+":"+this.__proto__.tag);window.eventToFire.fireEvent("c2:nfsm:next",e)},y.prototype.getCurrentStep=function(){return this.currentState},y.prototype.getNextStep=function(){return this.nextState};var g=function(){};g.prototype.saveKey="timeNotifier",g.prototype.version="1.1.0",g.prototype.tag="TN",g.prototype.state={ACTIVE:"active",PENDING:"pending",UNACTIVE:"unactive"},g.prototype.arrayNotif={},g.prototype.init=function(){this.load(),this.checkNotif()},g.prototype.getCompressedStr=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]={},0!==t[i].count&&(e[i].c=t[i].count),e[i].s=p.IntToBase(t[i].timeStart,36),t[i].lastAck>-1&&(e[i].a=p.IntToBase(Math.max(0,t[i].timeStart-t[i].lastAck),36)),86400!==t[i].time&&(e[i].t=p.IntToBase(t[i].time,36)),t[i].timeEnd-1e3*t[i].time!==t[i].timeStart&&(e[i].d=p.IntToBase(Math.max(0,t[i].timeEnd-t[i].timeStart),36)),""!==t[i].message&&(e[i].m=t[i].message),t[i].state!==this.state.ACTIVE&&(e[i].e=t[i].state===this.state.UNACTIVE?0:1));return JSON.stringify(e)},g.prototype.getUnCompressedObj=function(t){var e={};if("object"==typeof t)i=t;else try{var i=JSON.parse(t)}catch(t){return e}for(var r in i)i.hasOwnProperty(r)&&(void 0===i[r].name?(e[r]={name:r},e[r].time=void 0===i[r].t?86400:p.baseToInt(i[r].t,36),e[r].state=void 0===i[r].e?this.state.ACTIVE:0==i[r].e?this.state.UNACTIVE:this.state.PENDING,e[r].message=void 0===i[r].m?"":i[r].m,e[r].timeStart=p.baseToInt(i[r].s,36),e[r].lastAck=void 0===i[r].a?-1:e[r].timeStart-p.baseToInt(i[r].a,36),e[r].timeEnd=void 0===i[r].d?e[r].timeStart+1e3*e[r].time:e[r].timeStart+p.baseToInt(i[r].d,36),e[r].count=void 0===i[r].c?0:i[r].c):e[r]=Object.assign({},i[r]));return e},g.prototype.load=function(){this.arrayNotif=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],t+":"+this.__proto__.tag)),window.eventToFire.fireEvent("c2:timeNotifier:load")},g.prototype.save=function(){var e=0;for(var i in this.arrayNotif){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayNotif),""],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:timeNotifier:save"))},g.prototype.set=function(t,e,i,r,n,a){void 0===this.arrayNotif[t]&&(this.arrayNotif[t]={count:0,lastAck:-1}),this.arrayNotif[t].state=this.state.ACTIVE,this.arrayNotif[t].name=t,this.arrayNotif[t].time=e,this.arrayNotif[t].message=i,this.arrayNotif[t].timeStart=Date.now(),this.arrayNotif[t].timeEnd=Date.now()+1e3*e,this.save(),r&&window.eventToFire.fireEvent("c2:timeNotifier:onSetNotification",this.arrayNotif[t],n,a),window.eventToFire.fireEvent("c2:timeNotifier:set",t,e,i,r,n,a)},g.prototype.ack=function(t){void 0!==this.arrayNotif[t]&&this.arrayNotif[t].state==this.state.PENDING&&(this.arrayNotif[t].count++,this.arrayNotif[t].state=this.state.UNACTIVE,this.arrayNotif[t].lastAck=Date.now(),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:ack",t))},g.prototype.cancel=function(t){return void 0!==this.arrayNotif[t]&&(this.arrayNotif[t].state=this.state.UNACTIVE,this.save(),window.eventToFire.fireEvent("c2:timeNotifier:cancel",t),!0)},g.prototype.get=function(t){return void 0===this.arrayNotif[t]?0:JSON.stringify(this.arrayNotif[t])},g.prototype.getValue=function(t,e,i){return void 0===i&&(i=-1),void 0===this.arrayNotif[t]||void 0===e||void 0===this.arrayNotif[t][e]?i:this.arrayNotif[t][e]},g.prototype.getAll=function(){return JSON.stringify(this.arrayNotif)},g.prototype.exist=function(t){return void 0!==this.arrayNotif[t]},g.prototype.checkNotifByName=function(e){void 0!==this.arrayNotif[e]&&this.arrayNotif[e].state!=this.state.UNACTIVE&&(Date.now()<this.arrayNotif[e].timeEnd||(this.arrayNotif[e].state=this.state.PENDING,c2_callFunction("timeNotifier_onNotification",[e,this.arrayNotif[e].eventMessage,JSON.stringify(this.arrayNotif[e])],t+":"+this.__proto__.tag),this.save(),window.eventToFire.fireEvent("c2:timeNotifier:onNotification",this.arrayNotif[e]),window.eventToFire.fireEvent("c2:timeNotifier:"+e,this.arrayNotif[e])))},g.prototype.checkNotif=function(){for(var t in this.arrayNotif)this.checkNotifByName(t)},g.prototype.getSecondBySpecificTime=function(t,e,i){var r=new Date;return r.setHours(t,e,i),r.getTime()-Date.now()<0&&r.setHours(t+24),r.getTime()},g.prototype.toHHMMSS=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),r=Math.floor((e-3600*i)/60);t=e-3600*i-60*r;return i<10&&(i="0"+i),r<10&&(r="0"+r),t<10&&(t="0"+t),i+":"+r+":"+t},g.prototype.getState=function(t){return this.state[t]};var m=function(){this.capableToDisplayLeaderboard=!1};m.prototype.version="1.1.1",m.prototype.tag="LB",m.prototype.init=function(){window.eventToFire.registerEvent("leaderboard:onSubmitScoreSucceeded",(function(e){c2_callFunction("leaderboard_onSubmitScoreSucceeded",[],t+":"+this.__proto__.tag)})),window.eventToFire.registerEvent("leaderboard:onSubmitScoreFailed",(function(e){c2_callFunction("leaderboard_onSubmitScoreFailed",[],t+":"+this.__proto__.tag)}));var e=this;window.eventToFire.registerEvent("leaderboard:ICanDisplayLeaderboard",(function(t){"boolean"!=typeof t&&(t=!0),e.capableToDisplayLeaderboard=t})),window.eventToFire.fireEvent("c2:leaderboard:init")},m.prototype.canDisplayLeaderboard=function(){return this.capableToDisplayLeaderboard?1:0},m.prototype.submitScore=function(t,e){return e=parseInt(e),"string"!=typeof t||"number"!=typeof e||isNaN(e)?0:(window.eventToFire.fireEvent("c2:leaderboard:submitScore",t,e),1)},m.prototype.showLeaderboard=function(t,e){return"number"==typeof e&&(e=0!=e),"boolean"!=typeof e&&(e=!0),window.eventToFire.fireEvent("c2:leaderboard:showLeaderboard",t,e),1},m.prototype.showLeaderboards=function(){return window.eventToFire.fireEvent("c2:leaderboard:showLeaderboards"),1};var b=function(){};b.prototype.saveKey="achievement",b.prototype.version="1.2.0",b.prototype.tag="AC",b.prototype.state={HIDDEN:"HIDDEN",REVEALED:"REVEALED",UNLOCKED:"UNLOCKED"},b.prototype.type={STANDARD:"STANDARD",INCREMENTAL:"INCREMENTAL"},b.prototype.arrayAchievement={},b.prototype.init=function(){this.load();var e=function(e,i){c2_callFunction("achievement_onNotification",[e.achievement_code,i,e.currentStep,e.achievement_steps,JSON.stringify(e),e.previousStep],t+":"+this.__proto__.tag)};window.eventToFire.registerEvent("c2:achievement:unlock",e),window.eventToFire.registerEvent("c2:achievement:increment",e)},b.prototype.getCompressedStr=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]={},t[i].currentStep>0&&t[i].achievement_state!==this.state.UNLOCKED&&(e[i].s=p.IntToBase(t[i].currentStep,36)),t[i].seen||(e[i].e=0),t[i].achievement_type===this.type.INCREMENTAL&&(e[i].m=p.IntToBase(t[i].achievement_steps,36)),t[i].achievement_state!==this.state.REVEALED&&(e[i].a=t[i].achievement_state===this.state.HIDDEN?0:1),("{}"===JSON.stringify(e[i])||void 0===e[i].s&&void 0===e[i].e&&void 0===e[i].a&&void 0!==e[i].m)&&delete e[i]);return JSON.stringify(e)},b.prototype.getUnCompressedObj=function(t){var e={};if("object"==typeof t)i=t;else try{var i=JSON.parse(t)}catch(t){return e}for(var r in i)i.hasOwnProperty(r)&&(void 0===i[r].achievement_code?(e[r]={achievement_code:r},e[r].seen=void 0===i[r].e,e[r].achievement_type=void 0===i[r].m?this.type.STANDARD:this.type.INCREMENTAL,e[r].achievement_steps=void 0===i[r].m?1:p.baseToInt(i[r].m,36),e[r].achievement_state=void 0===i[r].a?this.state.REVEALED:i[r].a>0?this.state.UNLOCKED:this.state.HIDDEN,e[r].currentStep=void 0!==i[r].s?p.baseToInt(i[r].s,36):e[r].achievement_state===this.state.UNLOCKED?e[r].achievement_steps:0):e[r]=Object.assign({},i[r]));return e},b.prototype.load=function(){this.arrayAchievement=this.getUnCompressedObj(c2_callFunction("readCustomData",[this.saveKey,"{}"],t+":"+this.__proto__.tag))},b.prototype.save=function(){var e=0;for(var i in this.arrayAchievement){e++;break}0!=e&&(c2_callFunction("writeCustomData",[this.saveKey,this.getCompressedStr(this.arrayAchievement),""],t+":"+this.__proto__.tag),window.eventToFire.fireEvent("c2:achievement:save"))},b.prototype.show=function(){window.eventToFire.fireEvent("c2:achievement:show")},b.prototype.register=function(t,e,i){if(void 0!==this.arrayAchievement[t])return window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t]);"string"==typeof(i=i||{})&&(i=JSON.parse(i)),this.arrayAchievement[t]=(new w).create(t,e,i.achievement_state||this.state.REVEALED,i.achievement_type||(1==e?this.type.STANDARD:this.type.INCREMENTAL)),this.save(),window.eventToFire.fireEvent("c2:achievement:register",this.arrayAchievement[t])},b.prototype.unlock=function(t){if(this.arrayAchievement[t]){var e=this.arrayAchievement[t];e.achievement_type==this.type.STANDARD&&(e.currentStep>=e.achievement_steps||(e.previousStep=parseInt(e.currentStep),e.currentStep=e.achievement_steps,e.seen=!1,e.achievement_state=this.state.UNLOCKED,this.save(),window.eventToFire.fireEvent("c2:achievement:unlock",e,1)))}},b.prototype.increment=function(t,e){if(this.arrayAchievement[t]){var i=this.arrayAchievement[t];i.achievement_type==this.type.INCREMENTAL&&(i.currentStep>=i.achievement_steps||(i.previousStep=parseInt(i.currentStep),i.currentStep+=e,i.currentStep=Math.min(i.currentStep,i.achievement_steps),i.currentStep==i.achievement_steps&&(i.seen=!1,i.achievement_state=this.state.UNLOCKED),this.save(),window.eventToFire.fireEvent("c2:achievement:increment",i,e)))}},b.prototype.get=function(t,e){return void 0!==t&&void 0!==e?void 0===this.arrayAchievement[t]||void 0===this.arrayAchievement[t][e]?-1:this.arrayAchievement[t][e]:void 0!==t?void 0===this.arrayAchievement[t]?-1:JSON.stringify(this.arrayAchievement[t]):JSON.stringify(this.arrayAchievement)},b.prototype.getUnSeen=function(){var t={};for(var e in this.arrayAchievement)this.arrayAchievement[e].seen||(t[e]=this.arrayAchievement[e]);return JSON.stringify(t)},b.prototype.getUnSeenCount=function(){var t=0;for(var e in this.arrayAchievement)this.arrayAchievement[e].seen||t++;return t},b.prototype.markAsSeenSpecific=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].seen=!0,this.save(),window.eventToFire.fireEvent("c2:achievement:markAsSeen",this.arrayAchievement[t]))},b.prototype.markAsSeen=function(t){for(var e in this.arrayAchievement)this.markAsSeenSpecific(e)},b.prototype.reveal=function(t){this.arrayAchievement[t]&&(this.arrayAchievement[t].achievement_state=this.state.REVEALED,this.save(),window.eventToFire.fireEvent("c2:achievement:reveal",this.arrayAchievement[t]))};var w=function(){};w.prototype.create=function(t,e,i,r){return this.currentStep=0,this.seen=!0,this.achievement_code=t,this.achievement_type=r,this.achievement_steps=e,this.achievement_state=i,this};var E={version:"1.0.0",tag:"GN",date:function(){return new Date},regexp:function(t,e){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e)}},N={version:"1.0.0",tag:"RX",test:function(t,e,i){return void 0===e&&(e=""),"string"==typeof t&&(t=t.replace(new RegExp("(^/)|(/$)","g"),"")),new RegExp(t,e).test(i)?1:0}},T={version:"1.0.0",tag:"EZ"};T.X_FUNCTIONS={none:function(t){return 1},linear:function(t){return t},easeInLinear:function(t){return t},easeOutLinear:function(t){return t},easeInOutLinear:function(t){return t},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-Math.pow(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-Math.pow(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-Math.pow(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},easeOutCirc:function(t){return sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInBack:function(t){const e=1.70158;return 2.70158*t*t*t-e*t*t},easeOutBack:function(t){const e=1.70158;return 1+2.70158*Math.pow(t-1,3)+e*Math.pow(t-1,2)},easeInOutBack:function(t){const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2},easeInElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)},easeOutElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeInOutElastic:function(t){const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1},easeInBounce:function(t){return 1-function(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}(1-t)},easeOutBounce:function(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:function(t){const e=function(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375};return t<.5?(1-e(1-2*t))/2:(1+e(2*t-1))/2}},T.TBCD_FUNCTIONS={none:function(t,e,i,r){return e+i},linear:function(t,e,i,r){return i*(t/=r)+e},easeInQuad:function(t,e,i,r){return i*(t/=r)*t+e},easeOutQuad:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,r){return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,i,r){return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,r){return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,i,r){return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,r){return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,i,r){return 0==t?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,i,r){return t==r?e+i:i*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,i,r){return 0==t?e:t==r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;if(0==t)return e;if(1==(t/=r))return e+i;if(a||(a=.3*r),o<Math.abs(i)){o=i;n=a/4}else n=a/(2*Math.PI)*Math.asin(i/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/a)+e},easeOutElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;if(0==t)return e;if(1==(t/=r))return e+i;if(a||(a=.3*r),o<Math.abs(i)){o=i;n=a/4}else n=a/(2*Math.PI)*Math.asin(i/o);return o*Math.pow(2,-10*t)*Math.sin((t*r-n)*(2*Math.PI)/a)+i+e},easeInOutElastic:function(t,e,i,r){var n=1.70158,a=0,o=i;if(0==t)return e;if(2==(t/=r/2))return e+i;if(a||(a=r*(.3*1.5)),o<Math.abs(i)){o=i;n=a/4}else n=a/(2*Math.PI)*Math.asin(i/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/a)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*r-n)*(2*Math.PI)/a)*.5+i+e},easeInBack:function(t,e,i,r,n){return null==n&&(n=1.70158),i*(t/=r)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,i,r,n){return null==n&&(n=1.70158),i*((t=t/r-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,r,n){return null==n&&(n=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:function(t,e,i,r){return i-this.easeOutBounce(r-t,0,i,r)+e},easeOutBounce:function(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,r){return t<r/2?.5*this.easeInBounce(2*t,0,i,r)+e:.5*this.easeOutBounce(2*t-r,0,i,r)+.5*i+e}};var _={version:"2.0.0",tag:"TV",trackedVariables:{},init:function(){return this.C2_RUNTIME=cr_getC2Runtime(),this.C2_RUNTIME.tickMe(this),this},toString:function(){return"tweeningVariables"},registerTracker:function(t,e,i,r,n,a,o,s){if("number"!=typeof r&&(r=1),"number"!=typeof a&&(a=0),"number"!=typeof o&&(o=1),n=parseFloat(n),void 0===s&&(s="{currentTrackerValue}"),"string"!=typeof t||"number"!=typeof e||void 0===this.C2_RUNTIME.objectsByUid[e]||"function"!=typeof this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText)return!1;var c=-1,u="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}};for(var h in this.C2_RUNTIME.all_global_vars)this.C2_RUNTIME.all_global_vars[h].name===t&&(c=h);if(-1===c)return!1;for(var l in"string"==typeof i&&-1!==Object.keys(u).indexOf(i)||(i="none"),isNaN(n)&&(n=this.C2_RUNTIME.all_global_vars[c].data),this.trackedVariables)if(Object.keys(this.trackedVariables[l]).indexOf(e)){this.unregisterTracker(l,e);break}return void 0===this.trackedVariables[t]&&(this.trackedVariables[t]={k:c,l:this.C2_RUNTIME.all_global_vars[c].data}),this.trackedVariables[t][e]={trackedVariable:t,objectUID:e,easing:i,initialValue:n,duration:r,currentTrackerValue:n,elapsedTime:0,treshold:o,active:1,running:1,decimals:a,pattern:s,puid:this.C2_RUNTIME.objectsByUid[e].puid},window.eventToFire.fireEvent("c2:tweeningVariables:tracker:registered:"+t,e,this.trackedVariables[t][e]),n===this.C2_RUNTIME.all_global_vars[c].data&&this.synchronizeTracker(t,e),!0},unregisterTracker:function(t,e){if(void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]){var i=this.trackedVariables[t][e];return void 0!==this.C2_RUNTIME.objectsByUid[e]&&typeof this.C2_RUNTIME.objectsByUid[e].puid===this.trackedVariables[t][e].puid||(i.lost=1),delete this.trackedVariables[t][e],window.eventToFire.fireEvent("c2:tweeningVariables:tracker:unregistered:"+t,e,i),2===Object.keys(this.trackedVariables[t]).length&&delete this.trackedVariables[t],!0}return!1},getEasingsList:function(t){var e=Object.keys("undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{none:function(t){return 1}});return t?JSON.stringify(e):e},getTracker:function(t,e,i){var r=void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]?this.trackedVariables[t][e]:{};return i?JSON.stringify(r):r},pauseTracker:function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&!(this.trackedVariables[t][e].active=0)&&(window.eventToFire.fireEvent("c2:tweeningVariables:tracker:paused:"+t,e,this.trackedVariables[t][e])||!0)},resumeTracker:function(t,e){return!(void 0===this.trackedVariables[t]||void 0===this.trackedVariables[t][e]||!(this.trackedVariables[t][e].active=1))&&(window.eventToFire.fireEvent("c2:tweeningVariables:tracker:resumed:"+t,e,this.trackedVariables[t][e])||!0)},toggleTracker:function(t,e){return void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&(this.trackedVariables[t][e].active?this.pauseTracker(t,e):this.resumeTracker(t,e))},getTrackersOf:function(t,e){var i=void 0!==this.trackedVariables[t]?Object.keys(this.trackedVariables[t]).filter((function(t){return"k"!==t&&"l"!==t})):[];return e?JSON.stringify(i):i},synchronizeTracker:function(t,e){if(void 0!==this.trackedVariables[t]&&void 0!==this.trackedVariables[t][e]&&void 0!==this.trackedVariables[t][e].puid&&this.trackedVariables[t][e].puid===this.C2_RUNTIME.objectsByUid[e].puid){var i={trackedVariable:t,objectUID:e},r=this.trackedVariables[t][e],n=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data;if(i.previousTime=r.elapsedTime,i.elapsedTime=r.elapsedTime+this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[e]),i.change=n-r.initialValue,i.roundedChange=Math.round(i.change*Math.pow(10,r.decimals))/Math.pow(10,r.decimals),i.initialValue=r.initialValue,i.previousTrackerValue=r.currentTrackerValue,i.previousTrackerValueFixed=Number(i.previousTrackerValue).toFixed(r.decimals),i.currentVariableValue=n,i.currentTrackerValue=n,i.currentTrackerValueFixed=Number(i.currentTrackerValue).toFixed(r.decimals),i.diffValue=n-i.currentTrackerValue,i.synchronized=2,"1.0.0"===playtouch.textParser.version)for(var a in i)i[a]+="";return this.C2_RUNTIME.objectsByUid[e].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[e],""+playtouch.textParser.parse(r.pattern,i)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,e,i),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,e,this.trackedVariables[t][e]),r.elapsedTime=0,r.running=0,r.currentTrackerValue=n,r.initialValue=n,!0}return!1},tick:function(){for(var t in this.trackedVariables){var e=this.C2_RUNTIME.all_global_vars[this.trackedVariables[t].k].data,i=e!=this.trackedVariables[t].l,r="undefined"!=typeof playtouch&&void 0!==playtouch.easings&&void 0!==playtouch.easings.X_FUNCTIONS?playtouch.easings.X_FUNCTIONS:{easeInLinear:function(t){return t}};for(var n in this.trackedVariables[t].l=e,i&&window.eventToFire.fireEvent("c2:tweeningVariables:variable:changed:"+t,this.trackedVariables[t]),this.trackedVariables[t])if(-1===["k","l"].indexOf(n)){if(void 0===this.C2_RUNTIME.objectsByUid[n]||this.C2_RUNTIME.objectsByUid[n].puid!==this.trackedVariables[t][n].puid)return window.eventToFire.fireEvent("c2:tweeningVariables:tracker:lost:"+t,n,this.trackedVariables[t][n]),_.unregisterTracker(t,n);var a=this.trackedVariables[t][n],o=a.running;if(a.running=a.running||i||e!=a.currentTrackerValue?1:0,i&&(a.elapsedTime=0,a.initialValue=a.currentTrackerValue),a.active&&a.running){var s=a.elapsedTime;a.elapsedTime+=this.C2_RUNTIME.getDt(this.C2_RUNTIME.objectsByUid[n]);var c,u={trackedVariable:t,objectUID:n};u.previousTime=s,u.elapsedTime=a.elapsedTime,u.change=Math.min(r[a.easing](u.elapsedTime/a.duration),1)*(e-a.initialValue),u.roundedChange=Math.round(u.change*Math.pow(10,a.decimals))/Math.pow(10,a.decimals),c=a.initialValue+u.roundedChange,u.previousTrackerValue=a.currentTrackerValue,u.previousTrackerValueFixed=Number(u.previousTrackerValue).toFixed(a.decimals),u.currentVariableValue=e,u.currentTrackerValue=c,u.currentTrackerValueFixed=Number(u.currentTrackerValue).toFixed(a.decimals),u.initialValue=a.initialValue,u.diffValue=e-c,u.synchronized=e==a.currentTrackerValue?1:0,Math.abs(u.diffValue)<a.treshold&&(u.diffValue=e-u.currentTrackerValue,u.currentTrackerValue=e,u.currentTrackerValueFixed=Number(u.currentTrackerValue).toFixed(a.decimals));var h=(u.currentTrackerValue+"").split("."),l=(u.diffValue+"").split(".");if(h.length>1&&h[1].length>a.decimals&&(u.currentTrackerValue=Number(u.currentTrackerValue).toFixed(a.decimals)),l.length>1&&l[1].length>a.decimals&&(u.diffValue=Number(u.diffValue).toFixed(a.decimals)),"1.0.0"===playtouch.textParser.version)for(var p in u)u[p]+="";o||window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronizing:"+t,n,this.trackedVariables[t][n]),a.currentTrackerValue!==c&&(this.C2_RUNTIME.objectsByUid[n].type.plugin.acts.SetText.call(this.C2_RUNTIME.objectsByUid[n],""+playtouch.textParser.parse(a.pattern,u)),window.eventToFire.fireEvent("c2:tweeningVariables:tracker:updated:"+t,n,u),a.currentTrackerValue=c),e==a.currentTrackerValue&&(a.running=0,a.initialValue=a.currentTrackerValue,window.eventToFire.fireEvent("c2:tweeningVariables:tracker:synchronized:"+t,n,this.trackedVariables[t][n]))}}}}},k=function(){};k.prototype.version="1.0.0",k.prototype.SCALE_MIN=.1,k.prototype.blocks=[],k.prototype.pushblock=function(t,e,i=0,r=0){return this.blocks.push({_id:this.blocks.length,name:t,width:e,height:i,layerName:r,toString:function(){return this._id}}),this.blocks[this.blocks.length-1].id},k.prototype.setBlockValue=function(t,e,i){return t>=this.blocks.length||(this.blocks[t][e]=i),t},k.prototype.setLastBlockValue=function(t,e){return this.setBlockValue(this.blocks.length-1,t,e)},k.prototype.getblocks=function(){return JSON.stringify(this.blocks)},k.prototype.flushBlocks=function(){this.blocks=[]},k.prototype.getWidthBlock=function(t,e=1){return cr_getC2Runtime?t.width*this.getScale(t.layerName,e):t.width},k.prototype.getWidthBlocks=function(t=1){return[0,...this.blocks].reduce(((e,i)=>e+this.getWidthBlock(i,t)))},k.prototype.getHeightBlock=function(t,e=1){return cr_getC2Runtime?t.height*this.getScale(t.layerName,e):t.height},k.prototype.getHeightBlocks=function(t=1){return[0,...this.blocks].reduce(((e,i)=>e+this.getHeightBlock(i,t)))},k.prototype.getTallerBlocksHeight=function(t=1){return Math.max(...this.blocks.map((e=>this.getHeightBlock(e,t))))},k.prototype.getWiderBlocksWidth=function(t=1){return Math.max(...this.blocks.map((e=>this.getWidthBlock(e,t))))},k.prototype.getScale=function(t,e=1){e=Math.max(this.SCALE_MIN,e);let i=cr_getC2Runtime().getLayer(t);return i?(i.scale*e-1)*i.zoomRate+1:1},k.prototype.getXOnLayer=function(t,e){let i=cr_getC2Runtime().getLayer(t),r=cr_getC2Runtime().getLayer(0);return i&&r?i.canvasToLayer(r.layerToCanvas(e,0,!0),0,!0):e},k.prototype.getYOnLayer=function(t,e){let i=cr_getC2Runtime().getLayer(t),r=cr_getC2Runtime().getLayer(0);return i&&r?i.canvasToLayer(0,r.layerToCanvas(0,e,!1),!1):e},k.prototype.get2DigitComma=function(t){return Math.round(100*t)/100},k.prototype._getGoodScale=function(t,e,i,r,n=!0,a=!0){let o=n?this.getTallerBlocksHeight:this.getWiderBlocksWidth,s=n?e:i,c=n?i:e;for(;t>this.SCALE_MIN&&(this._getSizeForFunc(t,n,a)>s||(a?o.call(this)*t:o.call(this,t))>c);)t=this.get2DigitComma(t-r);return t},k.prototype._getSizeForFunc=function(t,e=!0,i=!0,r=void 0){let n=void 0===r;return e&&n&&i?this.getWidthBlocks()*t:e&&n&&!i?this.getWidthBlocks(t):e&&!n&&i?this.getWidthBlock(r)*t:!e||n||i?!e&&n&&i?this.getHeightBlocks()*t:e||!n||i?e||n||!i?e||n||i?void 0:this.getHeightBlock(r,t):this.getHeightBlock(r)*t:this.getHeightBlocks(t):this.getWidthBlock(r,t)},k.prototype._getPlacement=function(t,e,i,r=!0,n=!0){let a=[],o=r?this.getXOnLayer:this.getYOnLayer,s=this.blocks.length,c=this._getSizeForFunc(t,r,n),u=(c>e?0:e-c)/(s+1),h=c>e?e/2-c/2:0;for(let e=0;e<this.blocks.length;e++){let s=this.blocks[e];h+=u;let c=this._getSizeForFunc(t,!0,n,s),l=this._getSizeForFunc(t,!1,n,s),p={name:s.name,pos:this.get2DigitComma(o(s.layerName,i+h+(r?c:l)/2))};n&&(p.width=this.get2DigitComma(c),p.height=this.get2DigitComma(l)),a.push(p),h+=r?c:l}return a},k.prototype.horizontal_getSizes=function(t=100,e=1/0,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return this.blocks.length>0&&(o=this._getGoodScale(o,t,e,n,!0,!0),s=this._getPlacement(o,t,i,!0,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},k.prototype.horizontal_getScales=function(t=100,e=1/0,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];if(this.blocks.length>0){!!this.blocks.find((t=>this.getScale(t.layerName,o)>1))&&(o=this._getGoodScale(o,t,e,n,!0,!1)),s=this._getPlacement(o,t,i,!0,!1)}return a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})},k.prototype.vertical_getSizes=function(t=1/0,e=100,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];return this.blocks.length>0&&(o=this._getGoodScale(o,t,e,n,!1,!0),s=this._getPlacement(o,e,i,!1,!0)),a&&this.flushBlocks(),JSON.stringify({blockScale:o,blocks:s})},k.prototype.vertical_getScales=function(t=1/0,e=100,i=0,r=1,n=.01,a=!0){let o=Math.max(this.SCALE_MIN,r),s=[];if(this.blocks.length>0){!!this.blocks.find((t=>this.getScale(t.layerName,o)>1))&&(o=this._getGoodScale(o,t,e,n,!1,!1)),s=this._getPlacement(o,e,i,!1,!1)}return a&&this.flushBlocks(),JSON.stringify({layoutScale:o,blocks:s})};var S={};for(var I in S.arrayWaitForFunction=(new v).init(),S.leaderboard=new m,S.nfsm=new y,S.timeNotifier=new g,S.achievement=new b,S.versionChecker=u,S.baseConverter=p,S.seedsField=d,S.textParser=h,S.getNew=E,S.regExp=N,S.easings=T,S.tweeningVariables=_.init(),S.blocksSpreading=new k,S)window.playtouch.modulesManager.register(I,S[I])}();